"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(authenticated)/dashboard/courses/page",{

/***/ "(app-pages-browser)/./lib/profile-context.tsx":
/*!*********************************!*\
  !*** ./lib/profile-context.tsx ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProfileProvider: function() { return /* binding */ ProfileProvider; },\n/* harmony export */   useProfile: function() { return /* binding */ useProfile; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ ProfileProvider,useProfile auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst ProfileContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction ProfileProvider(param) {\n    let { children } = param;\n    _s();\n    const [profile, setProfile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [currentUserId, setCurrentUserId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const subscriptionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        const initializeProfile = async ()=>{\n            try {\n                const { data: { user } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.getUser();\n                if (!isMounted) return;\n                if (user) {\n                    setCurrentUserId(user.id);\n                    // Cargar perfil del usuario\n                    const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"*\").eq(\"id\", user.id).single();\n                    if (!isMounted) return;\n                    if (error) {\n                        console.error(\"Error loading profile:\", error);\n                        setProfile(null);\n                    } else if (data) {\n                        setProfile(data);\n                    }\n                    // Suscribirse a cambios en tiempo real SOLO para este usuario\n                    if (subscriptionRef.current) {\n                        subscriptionRef.current.unsubscribe();\n                    }\n                    subscriptionRef.current = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.channel(\"profile_\".concat(user.id, \"_\").concat(Date.now())).on(\"postgres_changes\", {\n                        event: \"*\",\n                        schema: \"public\",\n                        table: \"profiles\",\n                        filter: \"id=eq.\".concat(user.id)\n                    }, (payload)=>{\n                        var _payload_new;\n                        if (isMounted && ((_payload_new = payload.new) === null || _payload_new === void 0 ? void 0 : _payload_new.id) === user.id) {\n                            setProfile(payload.new);\n                        }\n                    }).subscribe((status)=>{\n                        if (status === \"SUBSCRIBED\") {\n                            console.log(\"Profile subscription active for user:\", user.id);\n                        }\n                    });\n                } else {\n                    setProfile(null);\n                    setCurrentUserId(null);\n                }\n            } catch (error) {\n                console.error(\"Error initializing profile:\", error);\n                if (isMounted) {\n                    setProfile(null);\n                }\n            } finally{\n                if (isMounted) {\n                    setLoading(false);\n                }\n            }\n        };\n        initializeProfile();\n        // Escuchar cambios de autenticación\n        const { data: { subscription: authSubscription } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange(async (event, session)=>{\n            if (!isMounted) return;\n            if (event === \"SIGNED_IN\" && (session === null || session === void 0 ? void 0 : session.user)) {\n                const userId = session.user.id;\n                setCurrentUserId(userId);\n                // SOLO ponemos loading si realmente no tenemos nada para mostrar aún\n                // Esto evita que la app parpadee al refrescar tokens\n                if (!profile) {\n                    setLoading(true);\n                }\n                const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"*\").eq(\"id\", userId).single();\n                if (isMounted) {\n                    if (data) setProfile(data);\n                    setLoading(false);\n                }\n            } else if (event === \"SIGNED_OUT\") {\n                setProfile(null);\n                setCurrentUserId(null);\n                if (subscriptionRef.current) {\n                    subscriptionRef.current.unsubscribe();\n                }\n            }\n        });\n        return ()=>{\n            isMounted = false;\n            authSubscription === null || authSubscription === void 0 ? void 0 : authSubscription.unsubscribe();\n            if (subscriptionRef.current) {\n                subscriptionRef.current.unsubscribe();\n            }\n        };\n    }, []);\n    const updateProfile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((updatedProfile)=>{\n        if (updatedProfile.id === currentUserId) {\n            setProfile(updatedProfile);\n            // Guardar cambios en Supabase automáticamente\n            _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").update({\n                avatar_url: updatedProfile.avatar_url,\n                background_url: updatedProfile.background_url\n            }).eq(\"id\", currentUserId).then((param)=>{\n                let { error } = param;\n                if (error) console.error(\"Error updating profile:\", error);\n            });\n        }\n    }, [\n        currentUserId\n    ]);\n    const refreshProfile = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (currentUserId) {\n            try {\n                const { data } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"*\").eq(\"id\", currentUserId).single();\n                if (data) {\n                    setProfile(data);\n                }\n            } catch (error) {\n                console.error(\"Error refreshing profile:\", error);\n            } finally{\n                setLoading(false);\n            }\n        }\n    }, [\n        currentUserId\n    ]);\n    const value = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({\n            profile,\n            loading,\n            updateProfile,\n            refreshProfile\n        }), [\n        profile,\n        loading,\n        updateProfile,\n        refreshProfile\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ProfileContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\huama\\\\Downloads\\\\bolt descomprimido\\\\project-bolt-sb1-emsbaasg\\\\project\\\\lib\\\\profile-context.tsx\",\n        lineNumber: 182,\n        columnNumber: 5\n    }, this);\n}\n_s(ProfileProvider, \"/GKse8cke94I1VR1FvTQqBeN3VY=\");\n_c = ProfileProvider;\nfunction useProfile() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ProfileContext);\n    if (!context) {\n        throw new Error(\"useProfile must be used within ProfileProvider\");\n    }\n    return context;\n}\n_s1(useProfile, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"ProfileProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9wcm9maWxlLWNvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRTRHO0FBQ3pEO0FBU25ELE1BQU1TLCtCQUFpQlIsb0RBQWFBLENBQWlDUztBQUU5RCxTQUFTQyxnQkFBZ0IsS0FBMkM7UUFBM0MsRUFBRUMsUUFBUSxFQUFpQyxHQUEzQzs7SUFDOUIsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdYLCtDQUFRQSxDQUFpQjtJQUN2RCxNQUFNLENBQUNZLFNBQVNDLFdBQVcsR0FBR2IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDYyxlQUFlQyxpQkFBaUIsR0FBR2YsK0NBQVFBLENBQWdCO0lBQ2xFLE1BQU1nQixrQkFBa0JkLDZDQUFNQSxDQUFNO0lBRXBDRCxnREFBU0EsQ0FBQztRQUNSLElBQUlnQixZQUFZO1FBRWhCLE1BQU1DLG9CQUFvQjtZQUN4QixJQUFJO2dCQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsRUFBRSxHQUFHLE1BQU1mLG1EQUFRQSxDQUFDZ0IsSUFBSSxDQUFDQyxPQUFPO2dCQUV0RCxJQUFJLENBQUNMLFdBQVc7Z0JBRWhCLElBQUlHLE1BQU07b0JBQ1JMLGlCQUFpQkssS0FBS0csRUFBRTtvQkFFeEIsNEJBQTRCO29CQUM1QixNQUFNLEVBQUVKLElBQUksRUFBRUssS0FBSyxFQUFFLEdBQUcsTUFBTW5CLG1EQUFRQSxDQUNuQ29CLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLE1BQU1QLEtBQUtHLEVBQUUsRUFDaEJLLE1BQU07b0JBRVQsSUFBSSxDQUFDWCxXQUFXO29CQUVoQixJQUFJTyxPQUFPO3dCQUNUSyxRQUFRTCxLQUFLLENBQUMsMEJBQTBCQTt3QkFDeENiLFdBQVc7b0JBQ2IsT0FBTyxJQUFJUSxNQUFNO3dCQUNmUixXQUFXUTtvQkFDYjtvQkFFQSw4REFBOEQ7b0JBQzlELElBQUlILGdCQUFnQmMsT0FBTyxF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Q3REO1FBQ0o7SUFDRixHQUFHO1FBQUNWO0tBQWM7SUFFbEIsTUFBTTBDLGlCQUFpQnBELGtEQUFXQSxDQUFDO1FBQ2pDLElBQUlVLGVBQWU7WUFDakIsSUFBSTtnQkFDRixNQUFNLEVBQUVLLElBQUksRUFBRSxHQUFHLE1BQU1kLG1EQUFRQSxDQUM1Qm9CLElBQUksQ0FBQyxZQUNMQyxNQUFNLENBQUMsS0FDUEMsRUFBRSxDQUFDLE1BQU1iLGVBQ1RjLE1BQU07Z0JBRVQsSUFBSVQsTUFBTTtvQkFDUlIsV0FBV1E7Z0JBQ2I7WUFDRixFQUFFLE9BQU9LLE9BQU87Z0JBQ2RLLFFBQVFMLEtBQUssQ0FBQyw2QkFBNkJBO1lBQzdDLFNBQVU7Z0JBQ1JYLFdBQVc7WUFDYjtRQUNGO0lBQ0YsR0FBRztRQUFDQztLQUFjO0lBRWxCLE1BQU0yQyxRQUFRdEQsOENBQU9BLENBQUMsSUFBTztZQUMzQk87WUFDQUU7WUFDQXNDO1lBQ0FNO1FBQ0YsSUFBSTtRQUFDOUM7UUFBU0U7UUFBU3NDO1FBQWVNO0tBQWU7SUFFckQscUJBQ0UsOERBQUNsRCxlQUFlb0QsUUFBUTtRQUFDRCxPQUFPQTtrQkFDN0JoRDs7Ozs7O0FBR1A7R0EzS2dCRDtLQUFBQTtBQTZLVCxTQUFTbUQ7O0lBQ2QsTUFBTUMsVUFBVTdELGlEQUFVQSxDQUFDTztJQUMzQixJQUFJLENBQUNzRCxTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtJQU5nQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL3Byb2ZpbGUtY29udGV4dC50c3g/MjU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc3VwYWJhc2UsIFByb2ZpbGUgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbmludGVyZmFjZSBQcm9maWxlQ29udGV4dFR5cGUge1xuICBwcm9maWxlOiBQcm9maWxlIHwgbnVsbDtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgdXBkYXRlUHJvZmlsZTogKHVwZGF0ZWRQcm9maWxlOiBQcm9maWxlKSA9PiB2b2lkO1xuICByZWZyZXNoUHJvZmlsZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbn1cblxuY29uc3QgUHJvZmlsZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFByb2ZpbGVDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFByb2ZpbGVQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFtwcm9maWxlLCBzZXRQcm9maWxlXSA9IHVzZVN0YXRlPFByb2ZpbGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjdXJyZW50VXNlcklkLCBzZXRDdXJyZW50VXNlcklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzdWJzY3JpcHRpb25SZWYgPSB1c2VSZWY8YW55PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuXG4gICAgY29uc3QgaW5pdGlhbGl6ZVByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgc2V0Q3VycmVudFVzZXJJZCh1c2VyLmlkKTtcblxuICAgICAgICAgIC8vIENhcmdhciBwZXJmaWwgZGVsIHVzdWFyaW9cbiAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICBpZiAoIWlzTW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgc2V0UHJvZmlsZShudWxsKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHNldFByb2ZpbGUoZGF0YSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3VzY3JpYmlyc2UgYSBjYW1iaW9zIGVuIHRpZW1wbyByZWFsIFNPTE8gcGFyYSBlc3RlIHVzdWFyaW9cbiAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvblJlZi5jdXJyZW50LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3Vic2NyaXB0aW9uUmVmLmN1cnJlbnQgPSBzdXBhYmFzZVxuICAgICAgICAgICAgLmNoYW5uZWwoYHByb2ZpbGVfJHt1c2VyLmlkfV8ke0RhdGUubm93KCl9YClcbiAgICAgICAgICAgIC5vbihcbiAgICAgICAgICAgICAgJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXZlbnQ6ICcqJyxcbiAgICAgICAgICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLFxuICAgICAgICAgICAgICAgIHRhYmxlOiAncHJvZmlsZXMnLFxuICAgICAgICAgICAgICAgIGZpbHRlcjogYGlkPWVxLiR7dXNlci5pZH1gLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAocGF5bG9hZDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91bnRlZCAmJiBwYXlsb2FkLm5ldz8uaWQgPT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgICAgICAgIHNldFByb2ZpbGUocGF5bG9hZC5uZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdTVUJTQ1JJQkVEJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9maWxlIHN1YnNjcmlwdGlvbiBhY3RpdmUgZm9yIHVzZXI6JywgdXNlci5pZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFByb2ZpbGUobnVsbCk7XG4gICAgICAgICAgc2V0Q3VycmVudFVzZXJJZChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIHByb2ZpbGU6JywgZXJyb3IpO1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0UHJvZmlsZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGluaXRpYWxpemVQcm9maWxlKCk7XG5cbiAgICAvLyBFc2N1Y2hhciBjYW1iaW9zIGRlIGF1dGVudGljYWNpw7NuXG4gICAgY29uc3QgeyBkYXRhOiB7IHN1YnNjcmlwdGlvbjogYXV0aFN1YnNjcmlwdGlvbiB9IH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKFxuICAgICAgYXN5bmMgKGV2ZW50LCBzZXNzaW9uKSA9PiB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnU0lHTkVEX0lOJyAmJiBzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgY29uc3QgdXNlcklkID0gc2Vzc2lvbi51c2VyLmlkO1xuICAgICAgICAgIHNldEN1cnJlbnRVc2VySWQodXNlcklkKTtcblxuICAgICAgICAgIC8vIFNPTE8gcG9uZW1vcyBsb2FkaW5nIHNpIHJlYWxtZW50ZSBubyB0ZW5lbW9zIG5hZGEgcGFyYSBtb3N0cmFyIGHDum5cbiAgICAgICAgICAvLyBFc3RvIGV2aXRhIHF1ZSBsYSBhcHAgcGFycGFkZWUgYWwgcmVmcmVzY2FyIHRva2Vuc1xuICAgICAgICAgIGlmICghcHJvZmlsZSkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIGlmIChkYXRhKSBzZXRQcm9maWxlKGRhdGEpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnU0lHTkVEX09VVCcpIHtcbiAgICAgICAgICBzZXRQcm9maWxlKG51bGwpO1xuICAgICAgICAgIHNldEN1cnJlbnRVc2VySWQobnVsbCk7XG4gICAgICAgICAgaWYgKHN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25SZWYuY3VycmVudC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICBhdXRoU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgaWYgKHN1YnNjcmlwdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgIHN1YnNjcmlwdGlvblJlZi5jdXJyZW50LnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IHVwZGF0ZVByb2ZpbGUgPSB1c2VDYWxsYmFjaygodXBkYXRlZFByb2ZpbGU6IFByb2ZpbGUpID0+IHtcbiAgICBpZiAodXBkYXRlZFByb2ZpbGUuaWQgPT09IGN1cnJlbnRVc2VySWQpIHtcbiAgICAgIHNldFByb2ZpbGUodXBkYXRlZFByb2ZpbGUpO1xuICAgICAgLy8gR3VhcmRhciBjYW1iaW9zIGVuIFN1cGFiYXNlIGF1dG9tw6F0aWNhbWVudGVcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgIGF2YXRhcl91cmw6IHVwZGF0ZWRQcm9maWxlLmF2YXRhcl91cmwsXG4gICAgICAgICAgYmFja2dyb3VuZF91cmw6IHVwZGF0ZWRQcm9maWxlLmJhY2tncm91bmRfdXJsLFxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgY3VycmVudFVzZXJJZClcbiAgICAgICAgLnRoZW4oKHsgZXJyb3IgfSkgPT4ge1xuICAgICAgICAgIGlmIChlcnJvcikgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZmlsZTonLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICBjb25zdCByZWZyZXNoUHJvZmlsZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoY3VycmVudFVzZXJJZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdpZCcsIGN1cnJlbnRVc2VySWQpXG4gICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgc2V0UHJvZmlsZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBwcm9maWxlOicsIGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2N1cnJlbnRVc2VySWRdKTtcblxuICBjb25zdCB2YWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBwcm9maWxlLFxuICAgIGxvYWRpbmcsXG4gICAgdXBkYXRlUHJvZmlsZSxcbiAgICByZWZyZXNoUHJvZmlsZVxuICB9KSwgW3Byb2ZpbGUsIGxvYWRpbmcsIHVwZGF0ZVByb2ZpbGUsIHJlZnJlc2hQcm9maWxlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UHJvZmlsZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1Byb2ZpbGVDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJvZmlsZSgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUHJvZmlsZUNvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVByb2ZpbGUgbXVzdCBiZSB1c2VkIHdpdGhpbiBQcm9maWxlUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwic3VwYWJhc2UiLCJQcm9maWxlQ29udGV4dCIsInVuZGVmaW5lZCIsIlByb2ZpbGVQcm92aWRlciIsImNoaWxkcmVuIiwicHJvZmlsZSIsInNldFByb2ZpbGUiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImN1cnJlbnRVc2VySWQiLCJzZXRDdXJyZW50VXNlcklkIiwic3Vic2NyaXB0aW9uUmVmIiwiaXNNb3VudGVkIiwiaW5pdGlhbGl6ZVByb2ZpbGUiLCJkYXRhIiwidXNlciIsImF1dGgiLCJnZXRVc2VyIiwiaWQiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvbnNvbGUiLCJjdXJyZW50IiwidW5zdWJzY3JpYmUiLCJjaGFubmVsIiwiRGF0ZSIsIm5vdyIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsImZpbHRlciIsInBheWxvYWQiLCJuZXciLCJzdWJzY3JpYmUiLCJzdGF0dXMiLCJsb2ciLCJzdWJzY3JpcHRpb24iLCJhdXRoU3Vic2NyaXB0aW9uIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJzZXNzaW9uIiwidXNlcklkIiwidXBkYXRlUHJvZmlsZSIsInVwZGF0ZWRQcm9maWxlIiwidXBkYXRlIiwiYXZhdGFyX3VybCIsImJhY2tncm91bmRfdXJsIiwidGhlbiIsInJlZnJlc2hQcm9maWxlIiwidmFsdWUiLCJQcm92aWRlciIsInVzZVByb2ZpbGUiLCJjb250ZXh0IiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/profile-context.tsx\n"));

/***/ })

});