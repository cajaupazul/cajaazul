(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{2767:function(e,t,r){Promise.resolve().then(r.bind(r,4465))},4465:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(7437),l=r(2265),s=r(9660),i=r(4991),n=r(9397),c=r(3247),o=r(1047),d=r(2805),u=r(1239),m=r(6858),x=r(5805),b=r(166),h=r(7586),p=r(8239);let f=(0,b.default)(()=>Promise.all([r.e(137),r.e(152)]).then(r.bind(r,5152)),{loadableGenerated:{webpack:()=>[5152]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-bb-dark flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})});function g(){let{colors:e}=(0,s.F)(),{profile:t}=(0,i.U)(),[r,b]=(0,l.useState)(""),[g,v]=(0,l.useState)("Todos"),[j,N]=(0,l.useState)(!1),w={id:"pixel-art-2025",nombre:"Pixel Art Event 2025",tipo:"Cultural",descripcion:'\xa1\xdanete al lienzo infinito! Pinta, colabora y crea arte en tiempo real con toda la universidad. Calidad "wplace".',fecha:new Date(2025,11,15),lugar:"Online - CampusLink",participantes:1240,imagen:null,isSpecial:!0},E=[w].filter(e=>{let t="Todos"===g||e.tipo===g,a=e.nombre.toLowerCase().includes(r.toLowerCase());return t&&a});return(0,a.jsxs)("div",{className:"min-h-screen bg-bb-dark p-8 relative overflow-hidden",children:[(0,a.jsx)(h.M,{children:j&&(0,a.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60]",children:(0,a.jsx)(f,{eventId:w.id,onClose:()=>N(!1)})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto relative z-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-4",children:[(0,a.jsxs)(p.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[(0,a.jsxs)("h1",{className:"text-5xl font-black text-bb-text mb-2 tracking-tight flex items-center gap-3",children:["Eventos ",(0,a.jsx)("span",{className:"text-blue-400",children:"Universitarios"})]}),(0,a.jsx)("p",{className:"text-bb-text-secondary text-lg",children:"Descubre y participa en experiencias \xfanicas."})]}),(0,a.jsxs)(p.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-8 py-4 rounded-xl font-bold transition-all text-white bg-blue-600 hover:bg-blue-500",children:[(0,a.jsx)(n.Z,{className:"w-6 h-6"}),"Crear Evento"]})]}),(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsxs)(p.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative mb-8 text-lg",children:[(0,a.jsx)(c.Z,{className:"absolute left-4 top-4 w-6 h-6 text-bb-text-secondary"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar eventos...",value:r,onChange:e=>b(e.target.value),className:"w-full pl-14 pr-4 py-4 rounded-xl bg-bb-card border border-bb-border text-bb-text placeholder-bb-text-secondary focus:outline-none focus:border-blue-500/50 transition-all"})]}),(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-4 scrollbar-hide",children:["Todos","Acad\xe9micos","Culturales","Deportivos"].map((t,r)=>(0,a.jsx)(p.E.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*r},onClick:()=>v(t),className:"px-6 py-3 rounded-xl font-bold transition-all whitespace-nowrap text-sm border",style:{backgroundColor:g===t?(null==e?void 0:e.primary)||"#3b82f6":"var(--bg-darker)",borderColor:g===t?"transparent":"var(--border)",color:g===t?"white":"var(--text-secondary)"},children:t},t))})]}),0===E.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,a.jsx)("div",{className:"bg-bb-darker p-8 rounded-full mb-6",children:(0,a.jsx)(o.Z,{className:"w-16 h-16 text-bb-text-secondary"})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"No hay eventos por ahora"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"\xa1S\xe9 el primero en crear uno!"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(0,a.jsx)(h.M,{children:E.map((e,t)=>(0,a.jsxs)(p.E.div,{layout:!0,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:.1*t},onClick:()=>N(!0),className:"group block rounded-2xl overflow-hidden bg-bb-card border border-bb-border hover:border-blue-500/30 transition-all cursor-pointer relative",children:[(0,a.jsxs)("div",{className:"h-56 relative overflow-hidden flex items-center justify-center bg-blue-600",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle, #ffffff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,a.jsxs)("div",{className:"text-center z-10",children:[(0,a.jsx)("div",{className:"bg-white/10 p-5 rounded-2xl mb-4 inline-block border border-white/10",children:(0,a.jsx)(d.Z,{className:"w-14 h-14 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(y,{className:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 mb-2",children:[(0,a.jsx)(u.Z,{className:"w-3 h-3 mr-1"})," EN VIVO"]}),(0,a.jsx)("p",{className:"text-white font-black text-2xl tracking-tight",children:"Pixel Art Live"})]})]})]}),(0,a.jsxs)("div",{className:"p-6 relative",children:[(0,a.jsx)("div",{className:"absolute -top-8 right-6",children:(0,a.jsx)("button",{className:"bg-bb-text text-bb-darker p-3 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-5 h-5"})})}),(0,a.jsxs)("div",{className:"mb-6 pt-2",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,a.jsx)("h3",{className:"text-2xl font-bold text-white group-hover:text-blue-400 transition-colors flex-1 leading-tight",children:e.nombre})}),(0,a.jsx)("p",{className:"text-gray-400 leading-relaxed font-medium",children:e.descripcion})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300 text-sm font-medium",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-400",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})}),(0,a.jsx)("span",{children:e.fecha.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-gray-300 text-sm font-medium",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10 text-green-400",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("span",{children:[e.participantes.toLocaleString()," participantes"]})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)("span",{className:"px-4 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wider bg-white/5 text-gray-400 border border-white/5",children:e.tipo})})]})]},e.id))})})]})]})}function y(e){let{children:t,className:r}=e;return(0,a.jsx)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-semibold inline-flex items-center ".concat(r),children:t})}},4991:function(e,t,r){"use strict";r.d(t,{ProfileProvider:function(){return n},U:function(){return c}});var a=r(7437),l=r(2265),s=r(2141);let i=(0,l.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,l.useState)(null),[c,o]=(0,l.useState)(!0),[d,u]=(0,l.useState)(null),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=!0;(async()=>{try{let{data:{user:t}}=await s.OQ.auth.getUser();if(!e)return;if(t){u(t.id);let{data:r,error:a}=await s.OQ.from("profiles").select("*").eq("id",t.id).single();if(!e)return;a?(console.error("Error loading profile:",a),n(null)):r&&n(r),m.current&&m.current.unsubscribe(),m.current=s.OQ.channel("profile_".concat(t.id,"_").concat(Date.now())).on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:"id=eq.".concat(t.id)},r=>{var a;e&&(null===(a=r.new)||void 0===a?void 0:a.id)===t.id&&n(r.new)}).subscribe(e=>{"SUBSCRIBED"===e&&console.log("Profile subscription active for user:",t.id)})}else n(null),u(null)}catch(t){console.error("Error initializing profile:",t),e&&n(null)}finally{e&&o(!1)}})();let{data:{subscription:t}}=s.OQ.auth.onAuthStateChange(async(t,a)=>{if(e){if("SIGNED_IN"===t&&(null==a?void 0:a.user)){u(a.user.id),r||o(!0);let{data:t,error:l}=await s.OQ.from("profiles").select("*").eq("id",a.user.id).single();e&&(t&&n(t),o(!1))}else"SIGNED_OUT"===t&&(n(null),u(null),m.current&&m.current.unsubscribe())}});return()=>{e=!1,null==t||t.unsubscribe(),m.current&&m.current.unsubscribe()}},[]);let x=async()=>{if(d)try{let{data:e}=await s.OQ.from("profiles").select("*").eq("id",d).single();e&&n(e)}catch(e){console.error("Error refreshing profile:",e)}finally{o(!1)}};return(0,a.jsx)(i.Provider,{value:{profile:r,loading:c,updateProfile:e=>{e.id===d&&(n(e),s.OQ.from("profiles").update({avatar_url:e.avatar_url,background_url:e.background_url}).eq("id",d).then(e=>{let{error:t}=e;t&&console.error("Error updating profile:",t)}))},refreshProfile:x},children:t})}function c(){let e=(0,l.useContext)(i);if(!e)throw Error("useProfile must be used within ProfileProvider");return e}},2141:function(e,t,r){"use strict";r.d(t,{OQ:function(){return a}});let a=(0,r(1545).eI)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE")},9660:function(e,t,r){"use strict";r.d(t,{F:function(){return c},ThemeProvider:function(){return o}});var a=r(7437),l=r(2265),s=r(2141);let i={"Facultad de Ciencias Empresariales":{primary:"#0066FF",secondary:"#E6F0FF",dark:"#0052CC",light:"#F0F7FF"},"Facultad de Derecho":{primary:"#FF0000",secondary:"#FFE6E6",dark:"#CC0000",light:"#FFF0F0"},"Facultad de Econom\xeda y Finanzas":{primary:"#00CC00",secondary:"#E6FFE6",dark:"#009900",light:"#F0FFF0"},"Facultad de Ingenier\xeda":{primary:"#FFCC00",secondary:"#FFFAE6",dark:"#CC9900",light:"#FFFBF0"}},n=(0,l.createContext)({faculty:null,colors:null,setFaculty:()=>{},loading:!0,themeMode:"glass",setThemeMode:()=>{}}),c=()=>(0,l.useContext)(n);function o(e){let{children:t}=e,[r,c]=(0,l.useState)(null),[o,d]=(0,l.useState)(!0),[u,m]=(0,l.useState)("glass");(0,l.useEffect)(()=>{let e=localStorage.getItem("themeMode");e&&["light","dark","glass"].includes(e)?(m(e),document.documentElement.setAttribute("data-theme",e)):(m("glass"),document.documentElement.setAttribute("data-theme","glass"))},[]),(0,l.useEffect)(()=>{let e=async()=>{try{let{data:{user:e}}=await s.OQ.auth.getUser();if(e){let{data:t}=await s.OQ.from("profiles").select("carrera").eq("id",e.id).single();(null==t?void 0:t.carrera)?c(t.carrera):c(null)}else c(null)}catch(e){console.error("Error loading user faculty:",e),c(null)}finally{d(!1)}};e();let{data:{subscription:t}}=s.OQ.auth.onAuthStateChange(async(t,a)=>{("SIGNED_IN"===t||"SIGNED_OUT"===t||"USER_UPDATED"===t)&&(r||d(!0),await e())});return()=>{null==t||t.unsubscribe()}},[]),(0,l.useEffect)(()=>{if(r&&r in i){let e=i[r];document.documentElement.style.setProperty("--faculty-primary",e.primary),document.documentElement.style.setProperty("--faculty-secondary",e.secondary),document.documentElement.style.setProperty("--faculty-dark",e.dark),document.documentElement.style.setProperty("--faculty-light",e.light)}},[r]);let x=r&&r in i?i[r]:i["Facultad de Ciencias Empresariales"];return(0,a.jsx)(n.Provider,{value:{faculty:r,colors:x,setFaculty:e=>{c(e)},loading:o,themeMode:u,setThemeMode:e=>{m(e),localStorage.setItem("themeMode",e),document.documentElement.setAttribute("data-theme",e)}},children:t})}}},function(e){e.O(0,[545,239,653,971,117,744],function(){return e(e.s=2767)}),_N_E=e.O()}]);