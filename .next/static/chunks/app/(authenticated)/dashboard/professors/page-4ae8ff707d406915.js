(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{9800:function(e,t,r){Promise.resolve().then(r.bind(r,7030))},6025:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(7437),s=r(2265),l=r(8239),n=r(9660);function o(){let{colors:e,themeMode:t}=(0,n.F)(),[r,o]=(0,s.useState)([]);return((0,s.useEffect)(()=>{o(Array.from({length:6}).map((e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),size:300*Math.random()+100,duration:20*Math.random()+20,delay:5*Math.random()})))},[]),"dark"===t)?null:(0,a.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:r.map(t=>(0,a.jsx)(l.E.div,{className:"absolute rounded-full opacity-30 blur-3xl mix-blend-multiply filter",style:{backgroundColor:t.id%2==0?(null==e?void 0:e.primary)||"#3b82f6":(null==e?void 0:e.secondary)||"#6366f1",width:t.size,height:t.size,left:"".concat(t.x,"%"),top:"".concat(t.y,"%")},animate:{x:[0,200*Math.random()-100,0],y:[0,200*Math.random()-100,0],scale:[1,1.2,1]},transition:{duration:t.duration,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:t.delay}},t.id))})}},7030:function(e,t,r){"use strict";r.d(t,{default:function(){return v}});var a=r(7437),s=r(2265),l=r(6070),n=r(2869),o=r(5186),i=r(5900),d=r(3247),c=r(9397),u=r(9474),m=r(6595);r(2141);var b=r(8239),x=r(7586),f=r(6025),h=r(9376);let g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},y=e=>{let t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316"],r=0;for(let t=0;t<e.length;t++)r=e.charCodeAt(t)+((r<<5)-r);return t[Math.abs(r)%t.length]};function v(e){let{initialProfessors:t,initialSavedProfessors:r,profile:v}=e,w=(0,h.useRouter)(),[N,j]=(0,s.useState)(t),[F,C]=(0,s.useState)(""),[E,k]=(0,s.useState)(new Set(r)),[I,S]=(0,s.useState)(!1),[R,M]=(0,s.useState)({nombre:"",especialidad:"",facultad:"",email:"",otros_cursos:""}),z=N.filter(e=>{var t;return e.nombre.toLowerCase().includes(F.toLowerCase())||(null===(t=e.especialidad)||void 0===t?void 0:t.toLowerCase().includes(F.toLowerCase()))});return(0,a.jsxs)("div",{className:"min-h-screen bg-bb-dark p-8 relative overflow-hidden transition-colors duration-300",children:[(0,a.jsx)(f.Z,{}),(0,a.jsxs)(b.E.div,{initial:"hidden",animate:"visible",variants:g,className:"max-w-7xl mx-auto relative z-10",children:[(0,a.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,a.jsxs)(b.E.div,{variants:p,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20",children:(0,a.jsx)(i.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h1",{className:"text-4xl font-black text-bb-text tracking-tight",children:"Profesores"})]}),(0,a.jsx)("p",{className:"text-bb-text-secondary font-medium ml-1",children:"Descubre a los mejores mentores de tu facultad"})]}),(0,a.jsxs)(b.E.div,{variants:p,className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[(0,a.jsxs)("div",{className:"relative group flex-1 md:w-80",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-gray-500 group-focus-within:text-blue-400 transition-colors"})}),(0,a.jsx)(o.I,{placeholder:"Buscar por nombre o materia...",value:F,onChange:e=>C(e.target.value),className:"pl-10 h-12 bg-bb-card border-bb-border text-bb-text placeholder:text-gray-500 focus:border-blue-500/50 focus:ring-blue-500/20 rounded-xl transition-all"})]}),(0,a.jsxs)(n.z,{onClick:()=>w.push("/dashboard/professors/nuevo"),className:"h-12 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-blue-500/20 border-0",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-2"}),"Agregar Profesor"]})]})]}),z.length>0?(0,a.jsx)(b.E.div,{variants:g,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,a.jsx)(x.M,{children:z.map(e=>{let t=(e.averageRating||0)>=4.5;return(0,a.jsx)(b.E.div,{variants:p,layout:!0,className:"group relative",children:(0,a.jsxs)(l.Zb,{className:"h-full overflow-hidden hover:-translate-y-1 transition-all duration-300 bg-bb-card border border-bb-border",children:[(0,a.jsxs)("div",{className:"relative h-24 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-60 group-hover:opacity-80 transition-opacity duration-500",style:{backgroundImage:"url('".concat(e.background_image_url,"')")}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-bb-card to-transparent"}),t&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 bg-yellow-500/20 border border-yellow-500/30 text-yellow-400 text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"w-3 h-3"})," TOP"]})]}),(0,a.jsxs)(l.aY,{className:"p-0 relative",children:[(0,a.jsxs)("div",{className:"px-5 pt-12 pb-4 relative",children:[(0,a.jsx)("div",{className:"absolute -top-10 left-5",children:(0,a.jsx)("div",{className:"h-20 w-20 rounded-2xl flex items-center justify-center text-white font-bold text-3xl transition-transform group-hover:scale-105 duration-300 ring-4 ring-bb-card",style:{backgroundColor:y(e.nombre)},children:e.nombre.charAt(0).toUpperCase()})}),(0,a.jsx)("div",{className:"flex justify-end mb-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full ".concat((e.averageRating||0)>=4.5?"bg-yellow-500/20 border border-yellow-500/30":"bg-bb-darker border border-bb-border"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 ".concat((e.averageRating||0)>=4.5?"fill-yellow-400 text-yellow-400":"fill-gray-400 text-gray-400")}),(0,a.jsx)("span",{className:"text-sm font-bold ".concat((e.averageRating||0)>=4.5?"text-yellow-400":"text-bb-text"),children:(e.averageRating||0).toFixed(1)})]})}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-bb-text mb-1 truncate group-hover:text-blue-400 transition-colors",children:e.nombre}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[(0,a.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-400 bg-blue-500/10 px-2 py-1 rounded-md",children:e.especialidad}),(0,a.jsx)("span",{className:"text-xs text-bb-text-secondary truncate max-w-[120px]",children:e.facultad||"Facultad General"})]})]})]}),(0,a.jsx)("div",{className:"h-px w-full bg-bb-border"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 p-4 gap-3",children:[(0,a.jsxs)(n.z,{variant:"outline",className:"w-full border-bb-border bg-bb-darker hover:bg-bb-hover text-bb-text-secondary hover:text-bb-text font-medium text-xs h-10 transition-all",onClick:t=>{t.stopPropagation(),w.push("/dashboard/professors/".concat(e.id))},children:[(0,a.jsx)(m.Z,{className:"w-3.5 h-3.5 mr-2"}),"Calificar"]}),(0,a.jsx)(n.z,{className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold text-xs h-10",onClick:t=>{t.stopPropagation(),w.push("/dashboard/professors/".concat(e.id))},children:"Ver Perfil"})]})]})]})},e.id)})})}):(0,a.jsxs)(b.E.div,{variants:p,className:"text-center py-20 bg-bb-card rounded-3xl border border-bb-border",children:[(0,a.jsx)("div",{className:"bg-bb-darker p-4 rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4",children:(0,a.jsx)(d.Z,{className:"h-10 w-10 text-bb-text-secondary"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-bb-text mb-2",children:F?"No encontramos coincidencias":"A\xfan no hay profesores"}),(0,a.jsx)("p",{className:"text-bb-text-secondary max-w-md mx-auto",children:F?"Intenta con otro nombre o especialidad.":"S\xe9 el primero en agregar a un profesor y ayuda a la comunidad."}),!F&&(0,a.jsx)(n.z,{onClick:()=>S(!0),className:"mt-6 bg-blue-600 hover:bg-blue-500 text-white font-bold",children:"Agregar Profesor"})]})]})]})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(7437),s=r(2265),l=r(6791),n=r(535),o=r(4508);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-200 bg-white hover:bg-gray-50 text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,u=d?l.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(i({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},6070:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return d},Zb:function(){return n},aY:function(){return c},ll:function(){return i}});var a=r(7437),s=r(2265),l=r(4508);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg bg-white shadow-sm",r),...s})});n.displayName="Card",s.forwardRef((e,t)=>{let{className:r,imageUrl:s,title:n,courseCode:o,professor:i,status:d,onStarClick:c,...u}=e;return(0,a.jsxs)("div",{ref:t,className:(0,l.cn)("group cursor-pointer overflow-hidden rounded-lg shadow-md transition-all hover:shadow-lg",r),...u,children:[(0,a.jsx)("div",{className:"relative h-40 overflow-hidden bg-gray-200",children:s?(0,a.jsx)("img",{src:s,alt:n,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):(0,a.jsx)("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 to-blue-600"})}),(0,a.jsxs)("div",{className:"bg-white p-4",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:o}),(0,a.jsx)("h3",{className:"mt-1 line-clamp-2 text-sm font-semibold text-gray-900",children:n}),(0,a.jsx)("p",{className:"mt-2 text-xs text-gray-600",children:i}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:d||"Abierto"}),(0,a.jsx)("button",{onClick:c,className:"text-gray-300 transition-colors hover:text-yellow-400","aria-label":"Guardar curso",children:"â˜…"})]})]})]})}).displayName="CourseCard";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h2",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-gray-500",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},5186:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(7437),s=r(2265),l=r(4508);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},2141:function(e,t,r){"use strict";r.d(t,{OQ:function(){return a},q4:function(){return s}});let a=(0,r(338).createBrowserClient)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE");async function s(e){return await e()}},9660:function(e,t,r){"use strict";r.d(t,{F:function(){return i},ThemeProvider:function(){return d}});var a=r(7437),s=r(2265),l=r(2141);let n={"Facultad de Ciencias Empresariales":{primary:"#0066FF",secondary:"#E6F0FF",dark:"#0052CC",light:"#F0F7FF"},"Facultad de Derecho":{primary:"#FF0000",secondary:"#FFE6E6",dark:"#CC0000",light:"#FFF0F0"},"Facultad de Econom\xeda y Finanzas":{primary:"#00CC00",secondary:"#E6FFE6",dark:"#009900",light:"#F0FFF0"},"Facultad de Ingenier\xeda":{primary:"#FFCC00",secondary:"#FFFAE6",dark:"#CC9900",light:"#FFFBF0"}},o=(0,s.createContext)({faculty:null,colors:null,setFaculty:()=>{},loading:!0,themeMode:"glass",setThemeMode:()=>{}}),i=()=>(0,s.useContext)(o);function d(e){let{children:t}=e,[r,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[u,m]=(0,s.useState)("glass");(0,s.useEffect)(()=>{let e=localStorage.getItem("themeMode");e&&["light","dark","glass"].includes(e)?(m(e),document.documentElement.setAttribute("data-theme",e)):(m("glass"),document.documentElement.setAttribute("data-theme","glass"))},[]),(0,s.useEffect)(()=>{let e=async()=>{try{let{data:{user:e}}=await l.OQ.auth.getUser();if(e){let{data:t}=await l.OQ.from("profiles").select("carrera").eq("id",e.id).single();(null==t?void 0:t.carrera)?i(t.carrera):i(null)}else i(null)}catch(e){console.error("Error loading user faculty:",e),i(null)}finally{c(!1)}};e();let{data:{subscription:t}}=l.OQ.auth.onAuthStateChange(async(t,a)=>{("SIGNED_IN"===t||"SIGNED_OUT"===t||"USER_UPDATED"===t)&&(r||c(!0),await e())});return()=>{null==t||t.unsubscribe()}},[]),(0,s.useEffect)(()=>{if(r&&r in n){let e=n[r];document.documentElement.style.setProperty("--faculty-primary",e.primary),document.documentElement.style.setProperty("--faculty-secondary",e.secondary),document.documentElement.style.setProperty("--faculty-dark",e.dark),document.documentElement.style.setProperty("--faculty-light",e.light)}},[r]);let b=r&&r in n?n[r]:n["Facultad de Ciencias Empresariales"];return(0,a.jsx)(o.Provider,{value:{faculty:r,colors:b,setFaculty:e=>{i(e)},loading:d,themeMode:u,setThemeMode:e=>{m(e),localStorage.setItem("themeMode",e),document.documentElement.setAttribute("data-theme",e)}},children:t})}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return l}});var a=r(1994),s=r(3335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[338,137,239,278,971,117,744],function(){return e(e.s=9800)}),_N_E=e.O()}]);