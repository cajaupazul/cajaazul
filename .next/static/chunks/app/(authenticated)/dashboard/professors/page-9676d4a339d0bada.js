(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[254],{5316:function(e,t,a){Promise.resolve().then(a.bind(a,4658))},4658:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(7437),s=a(2265),l=a(6070),o=a(2869),n=a(5186),i=a(6815),d=a(6110),c=a(5900),u=a(3247),m=a(9397),b=a(9474),x=a(6595),f=a(2141),h=a(8239),p=a(7586),g=a(6025),y=a(9660),v=a(9376);let N={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},j={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function w(){let e=(0,v.useRouter)(),{colors:t}=(0,y.F)(),[a,w]=(0,s.useState)([]),[F,C]=(0,s.useState)(""),[k,E]=(0,s.useState)(!0),[_,I]=(0,s.useState)(new Set),[S,R]=(0,s.useState)(""),[z,M]=(0,s.useState)(!1),[O,P]=(0,s.useState)({nombre:"",especialidad:"",facultad:"",email:"",otros_cursos:""});(0,s.useEffect)(()=>{(async()=>{let{data:{user:e}}=await f.OQ.auth.getUser();e&&(R(e.id),await D(e.id)),await Z()})()},[]);let Z=async()=>{let{data:e}=await f.OQ.from("professors").select("*").order("nombre",{ascending:!0});if(e){let t=e.filter(e=>!e.background_image_url);if(t.length>0)for(let e of t){let t=q();await f.OQ.from("professors").update({background_image_url:t}).eq("id",e.id),e.background_image_url=t}w(await Promise.all(e.map(async e=>{let{data:t}=await f.OQ.from("professor_ratings").select("puntuacion").eq("professor_id",e.id),a=t||[],r=a.length>0?a.reduce((e,t)=>e+(t.puntuacion||0),0)/a.length:0;return{...e,averageRating:Math.round(10*r)/10,ratingCount:a.length}})))}E(!1)},D=async e=>{let{data:t}=await f.OQ.from("user_professors").select("professor_id").eq("user_id",e);t&&I(new Set(t.map(e=>e.professor_id)))},A=e=>{let t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316"],a=0;for(let t=0;t<e.length;t++)a=e.charCodeAt(t)+((a<<5)-a);return t[Math.abs(a)%t.length]},q=()=>"https://picsum.photos/500/200?random=".concat(Math.floor(1e5*Math.random())),B=async e=>{if(e.preventDefault(),!O.nombre.trim()||!O.especialidad.trim()){alert("Por favor completa los campos requeridos");return}let{error:t}=await f.OQ.from("professors").insert({nombre:O.nombre,especialidad:O.especialidad,facultad:O.facultad,email:O.email||null,otros_cursos:O.otros_cursos||null,background_image_url:q()});t?alert("Error al crear el profesor"):(M(!1),P({nombre:"",especialidad:"",facultad:"",email:"",otros_cursos:""}),Z())},Q=a.filter(e=>{var t;return e.nombre.toLowerCase().includes(F.toLowerCase())||(null===(t=e.especialidad)||void 0===t?void 0:t.toLowerCase().includes(F.toLowerCase()))});return k?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-bb-dark",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-bb-dark p-8 relative overflow-hidden transition-colors duration-300",children:[(0,r.jsx)(g.Z,{}),(0,r.jsxs)(h.E.div,{initial:"hidden",animate:"visible",variants:N,className:"max-w-7xl mx-auto relative z-10",children:[(0,r.jsxs)("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,r.jsxs)(h.E.div,{variants:j,children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20",children:(0,r.jsx)(c.Z,{className:"h-8 w-8 text-white"})}),(0,r.jsx)("h1",{className:"text-4xl font-black text-bb-text tracking-tight",children:"Profesores"})]}),(0,r.jsx)("p",{className:"text-bb-text-secondary font-medium ml-1",children:"Descubre a los mejores mentores de tu facultad"})]}),(0,r.jsxs)(h.E.div,{variants:j,className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[(0,r.jsxs)("div",{className:"relative group flex-1 md:w-80",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(u.Z,{className:"h-5 w-5 text-gray-500 group-focus-within:text-blue-400 transition-colors"})}),(0,r.jsx)(n.I,{placeholder:"Buscar por nombre o materia...",value:F,onChange:e=>C(e.target.value),className:"pl-10 h-12 bg-bb-card border-bb-border text-bb-text placeholder:text-gray-500 focus:border-blue-500/50 focus:ring-blue-500/20 rounded-xl transition-all"})]}),(0,r.jsxs)(d.Vq,{open:z,onOpenChange:M,children:[(0,r.jsx)(d.hg,{asChild:!0,children:(0,r.jsxs)(o.z,{className:"h-12 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-blue-500/20 border-0",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"Agregar Profesor"]})}),(0,r.jsxs)(d.cZ,{className:"bg-bb-card border-bb-border text-bb-text sm:max-w-lg max-h-[85vh] overflow-y-auto",children:[(0,r.jsxs)(d.fK,{children:[(0,r.jsx)(d.$N,{className:"text-2xl font-bold",children:"Agregar Nuevo Profesor"}),(0,r.jsx)(d.Be,{className:"text-bb-text-secondary",children:"Comparte informaci\xf3n sobre un profesor para que otros estudiantes puedan calificarlo."})]}),(0,r.jsxs)("form",{onSubmit:B,className:"space-y-5 mt-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i._,{htmlFor:"nombre",className:"text-bb-text text-xs font-semibold uppercase tracking-wide",children:"Nombre *"}),(0,r.jsx)(n.I,{id:"nombre",value:O.nombre,onChange:e=>P({...O,nombre:e.target.value}),placeholder:"Ej: Dr. Juan Garc\xeda",required:!0,className:"bg-bb-darker border-bb-border text-bb-text h-11"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i._,{htmlFor:"facultad",className:"text-bb-text text-xs font-semibold uppercase tracking-wide",children:"Facultad"}),(0,r.jsx)(n.I,{id:"facultad",value:O.facultad,onChange:e=>P({...O,facultad:e.target.value}),placeholder:"Ej: Ingenier\xeda",className:"bg-bb-darker border-bb-border text-bb-text h-11"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i._,{htmlFor:"especialidad",className:"text-bb-text text-xs font-semibold uppercase tracking-wide",children:"Materia Principal *"}),(0,r.jsx)(n.I,{id:"especialidad",value:O.especialidad,onChange:e=>P({...O,especialidad:e.target.value}),placeholder:"Ej: C\xe1lculo I",required:!0,className:"bg-bb-darker border-bb-border text-bb-text h-11"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i._,{htmlFor:"email",className:"text-bb-text text-xs font-semibold uppercase tracking-wide",children:"Correo Electr\xf3nico"}),(0,r.jsx)(n.I,{id:"email",type:"email",value:O.email,onChange:e=>P({...O,email:e.target.value}),placeholder:"prof@universidad.edu",className:"bg-bb-darker border-bb-border text-bb-text h-11"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i._,{htmlFor:"otros_cursos",className:"text-bb-text text-xs font-semibold uppercase tracking-wide",children:"Otros Cursos que Dicta"}),(0,r.jsx)(n.I,{id:"otros_cursos",value:O.otros_cursos,onChange:e=>P({...O,otros_cursos:e.target.value}),placeholder:"Ej: \xc1lgebra, Estad\xedstica, F\xedsica I",className:"bg-bb-darker border-bb-border text-bb-text h-11"}),(0,r.jsx)("p",{className:"text-xs text-bb-text-secondary",children:"Separa los cursos con comas"})]}),(0,r.jsx)(o.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 font-bold h-12 mt-4 text-base",children:"Guardar Profesor"})]})]})]})]})]}),Q.length>0?(0,r.jsx)(h.E.div,{variants:N,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(0,r.jsx)(p.M,{children:Q.map(t=>{_.has(t.id);let a=t.averageRating>=4.5;return(0,r.jsx)(h.E.div,{variants:j,layout:!0,className:"group relative",children:(0,r.jsxs)(l.Zb,{className:"h-full overflow-hidden hover:-translate-y-1 transition-all duration-300 bg-bb-card border border-bb-border",children:[(0,r.jsxs)("div",{className:"relative h-24 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center opacity-60 group-hover:opacity-80 transition-opacity duration-500",style:{backgroundImage:"url('".concat(t.background_image_url,"')")}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-bb-card to-transparent"}),a&&(0,r.jsxs)("div",{className:"absolute top-2 right-2 bg-yellow-500/20 border border-yellow-500/30 text-yellow-400 text-[10px] font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[(0,r.jsx)(b.Z,{className:"w-3 h-3"})," TOP"]})]}),(0,r.jsxs)(l.aY,{className:"p-0 relative",children:[(0,r.jsxs)("div",{className:"px-5 pt-12 pb-4 relative",children:[(0,r.jsx)("div",{className:"absolute -top-10 left-5",children:(0,r.jsx)("div",{className:"h-20 w-20 rounded-2xl flex items-center justify-center text-white font-bold text-3xl transition-transform group-hover:scale-105 duration-300 ring-4 ring-bb-card",style:{backgroundColor:A(t.nombre)},children:t.nombre.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:"flex justify-end mb-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full ".concat(t.averageRating>=4.5?"bg-yellow-500/20 border border-yellow-500/30":"bg-bb-darker border border-bb-border"),children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 ".concat(t.averageRating>=4.5?"fill-yellow-400 text-yellow-400":"fill-gray-400 text-gray-400")}),(0,r.jsx)("span",{className:"text-sm font-bold ".concat(t.averageRating>=4.5?"text-yellow-400":"text-bb-text"),children:t.averageRating.toFixed(1)})]})}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-bb-text mb-1 truncate group-hover:text-blue-400 transition-colors",children:t.nombre}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[(0,r.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-blue-400 bg-blue-500/10 px-2 py-1 rounded-md",children:t.especialidad}),(0,r.jsx)("span",{className:"text-xs text-bb-text-secondary truncate max-w-[120px]",children:t.facultad||"Facultad General"})]})]})]}),(0,r.jsx)("div",{className:"h-px w-full bg-bb-border"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 p-4 gap-3",children:[(0,r.jsxs)(o.z,{variant:"outline",className:"w-full border-bb-border bg-bb-darker hover:bg-bb-hover text-bb-text-secondary hover:text-bb-text font-medium text-xs h-10 transition-all",onClick:a=>{a.stopPropagation(),e.push("/dashboard/professors/".concat(t.id))},children:[(0,r.jsx)(x.Z,{className:"w-3.5 h-3.5 mr-2"}),"Calificar"]}),(0,r.jsx)(o.z,{className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold text-xs h-10",onClick:a=>{a.stopPropagation(),e.push("/dashboard/professors/".concat(t.id))},children:"Ver Perfil"})]})]})]})},t.id)})})}):(0,r.jsxs)(h.E.div,{variants:j,className:"text-center py-20 bg-bb-card rounded-3xl border border-bb-border",children:[(0,r.jsx)("div",{className:"bg-bb-darker p-4 rounded-full w-20 h-20 mx-auto flex items-center justify-center mb-4",children:(0,r.jsx)(u.Z,{className:"h-10 w-10 text-bb-text-secondary"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-bb-text mb-2",children:F?"No encontramos coincidencias":"A\xfan no hay profesores"}),(0,r.jsx)("p",{className:"text-bb-text-secondary max-w-md mx-auto",children:F?"Intenta con otro nombre o especialidad.":"S\xe9 el primero en agregar a un profesor y ayuda a la comunidad."}),!F&&(0,r.jsx)(o.z,{onClick:()=>M(!0),className:"mt-6 bg-blue-600 hover:bg-blue-500 text-white font-bold",children:"Agregar Profesor"})]})]})]})}},6025:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(7437),s=a(2265),l=a(8239),o=a(9660);function n(){let{colors:e,themeMode:t}=(0,o.F)(),[a,n]=(0,s.useState)([]);return((0,s.useEffect)(()=>{n(Array.from({length:6}).map((e,t)=>({id:t,x:100*Math.random(),y:100*Math.random(),size:300*Math.random()+100,duration:20*Math.random()+20,delay:5*Math.random()})))},[]),"dark"===t)?null:(0,r.jsx)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:a.map(t=>(0,r.jsx)(l.E.div,{className:"absolute rounded-full opacity-30 blur-3xl mix-blend-multiply filter",style:{backgroundColor:t.id%2==0?(null==e?void 0:e.primary)||"#3b82f6":(null==e?void 0:e.secondary)||"#6366f1",width:t.size,height:t.size,left:"".concat(t.x,"%"),top:"".concat(t.y,"%")},animate:{x:[0,200*Math.random()-100,0],y:[0,200*Math.random()-100,0],scale:[1,1.2,1]},transition:{duration:t.duration,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:t.delay}},t.id))})}},2869:function(e,t,a){"use strict";a.d(t,{z:function(){return d}});var r=a(7437),s=a(2265),l=a(6791),o=a(535),n=a(4508);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-200 bg-white hover:bg-gray-50 text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3 text-xs",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:d=!1,...c}=e,u=d?l.g7:"button";return(0,r.jsx)(u,{className:(0,n.cn)(i({variant:s,size:o,className:a})),ref:t,...c})});d.displayName="Button"},6070:function(e,t,a){"use strict";a.d(t,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return o},aY:function(){return c},ll:function(){return i}});var r=a(7437),s=a(2265),l=a(4508);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg bg-white shadow-sm",a),...s})});o.displayName="Card",s.forwardRef((e,t)=>{let{className:a,imageUrl:s,title:o,courseCode:n,professor:i,status:d,onStarClick:c,...u}=e;return(0,r.jsxs)("div",{ref:t,className:(0,l.cn)("group cursor-pointer overflow-hidden rounded-lg shadow-md transition-all hover:shadow-lg",a),...u,children:[(0,r.jsx)("div",{className:"relative h-40 overflow-hidden bg-gray-200",children:s?(0,r.jsx)("img",{src:s,alt:o,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):(0,r.jsx)("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 to-blue-600"})}),(0,r.jsxs)("div",{className:"bg-white p-4",children:[(0,r.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:n}),(0,r.jsx)("h3",{className:"mt-1 line-clamp-2 text-sm font-semibold text-gray-900",children:o}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-600",children:i}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,r.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:d||"Abierto"}),(0,r.jsx)("button",{onClick:c,className:"text-gray-300 transition-colors hover:text-yellow-400","aria-label":"Guardar curso",children:"â˜…"})]})]})]})}).displayName="CourseCard";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...s})});n.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h2",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-gray-500",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},6110:function(e,t,a){"use strict";a.d(t,{$N:function(){return f},Be:function(){return h},Vq:function(){return i},cN:function(){return x},cZ:function(){return m},fK:function(){return b},hg:function(){return d}});var r=a(7437),s=a(2265),l=a(3240),o=a(2489),n=a(4508);let i=l.fC,d=l.xz,c=l.h_;l.x8;let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});u.displayName=l.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(l.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.VY.displayName;let b=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};b.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});f.displayName=l.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.dk,{ref:t,className:(0,n.cn)("text-sm text-gray-500",a),...s})});h.displayName=l.dk.displayName},5186:function(e,t,a){"use strict";a.d(t,{I:function(){return o}});var r=a(7437),s=a(2265),l=a(4508);let o=s.forwardRef((e,t)=>{let{className:a,type:s,...o}=e;return(0,r.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...o})});o.displayName="Input"},6815:function(e,t,a){"use strict";a.d(t,{_:function(){return d}});var r=a(7437),s=a(2265),l=a(6394),o=a(535),n=a(4508);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.f,{ref:t,className:(0,n.cn)(i(),a),...s})});d.displayName=l.f.displayName},2141:function(e,t,a){"use strict";a.d(t,{OQ:function(){return r}});let r=(0,a(1545).eI)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE")},9660:function(e,t,a){"use strict";a.d(t,{F:function(){return i},ThemeProvider:function(){return d}});var r=a(7437),s=a(2265),l=a(2141);let o={"Facultad de Ciencias Empresariales":{primary:"#0066FF",secondary:"#E6F0FF",dark:"#0052CC",light:"#F0F7FF"},"Facultad de Derecho":{primary:"#FF0000",secondary:"#FFE6E6",dark:"#CC0000",light:"#FFF0F0"},"Facultad de Econom\xeda y Finanzas":{primary:"#00CC00",secondary:"#E6FFE6",dark:"#009900",light:"#F0FFF0"},"Facultad de Ingenier\xeda":{primary:"#FFCC00",secondary:"#FFFAE6",dark:"#CC9900",light:"#FFFBF0"}},n=(0,s.createContext)({faculty:null,colors:null,setFaculty:()=>{},loading:!0,themeMode:"glass",setThemeMode:()=>{}}),i=()=>(0,s.useContext)(n);function d(e){let{children:t}=e,[a,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[u,m]=(0,s.useState)("glass");(0,s.useEffect)(()=>{let e=localStorage.getItem("themeMode");e&&["light","dark","glass"].includes(e)?(m(e),document.documentElement.setAttribute("data-theme",e)):(m("glass"),document.documentElement.setAttribute("data-theme","glass"))},[]),(0,s.useEffect)(()=>{let e=async()=>{try{let{data:{user:e}}=await l.OQ.auth.getUser();if(e){let{data:t}=await l.OQ.from("profiles").select("carrera").eq("id",e.id).single();(null==t?void 0:t.carrera)?i(t.carrera):i(null)}else i(null)}catch(e){console.error("Error loading user faculty:",e),i(null)}finally{c(!1)}};e();let{data:{subscription:t}}=l.OQ.auth.onAuthStateChange(async(t,r)=>{("SIGNED_IN"===t||"SIGNED_OUT"===t||"USER_UPDATED"===t)&&(a||c(!0),await e())});return()=>{null==t||t.unsubscribe()}},[]),(0,s.useEffect)(()=>{if(a&&a in o){let e=o[a];document.documentElement.style.setProperty("--faculty-primary",e.primary),document.documentElement.style.setProperty("--faculty-secondary",e.secondary),document.documentElement.style.setProperty("--faculty-dark",e.dark),document.documentElement.style.setProperty("--faculty-light",e.light)}},[a]);let b=a&&a in o?o[a]:o["Facultad de Ciencias Empresariales"];return(0,r.jsx)(n.Provider,{value:{faculty:a,colors:b,setFaculty:e=>{i(e)},loading:d,themeMode:u,setThemeMode:e=>{m(e),localStorage.setItem("themeMode",e),document.documentElement.setAttribute("data-theme",e)}},children:t})}},4508:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var r=a(1994),s=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[545,137,102,239,769,958,971,117,744],function(){return e(e.s=5316)}),_N_E=e.O()}]);