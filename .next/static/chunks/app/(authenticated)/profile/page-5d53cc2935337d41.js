(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{4122:function(e,r,t){Promise.resolve().then(t.bind(t,3847))},3847:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return k}});var a=t(7437),l=t(2265),s=t(2141),n=t(9660),o=t(9179),i=t(9376),c=t(3581),d=t(9345),u=t(7760),m=t(3229),h=t(9763);let g=(0,h.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var p=t(2489),x=t(1239),b=t(1047),f=t(3327);let y=(0,h.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var v=t(1769);function k(){var e,r;(0,i.useRouter)();let{colors:t,themeMode:h,setThemeMode:k}=(0,n.F)(),{profile:w,updateProfile:j,user:N}=(0,o.a)(),[C,E]=(0,l.useState)(w||null),[F,Z]=(0,l.useState)(!w),[_,S]=(0,l.useState)(!1),[I,A]=(0,l.useState)(!1),[z,O]=(0,l.useState)({}),[P,D]=(0,l.useState)((null==N?void 0:N.email)||""),[M,U]=(0,l.useState)(""),Q=(0,l.useRef)(null),L=(0,l.useRef)(null);(0,l.useEffect)(()=>{w&&(E(w),O(w),w.background_url&&U(w.background_url),Z(!1)),(null==N?void 0:N.email)&&D(N.email)},[w,N]),(0,l.useEffect)(()=>{if(!w){let e=setTimeout(()=>{Z(!1)},3e3);return()=>clearTimeout(e)}},[w]);let q=async e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t&&C){A(!0);try{let e=t.name.split(".").pop(),r="bg-".concat(C.id,"-").concat(Date.now(),".").concat(e),a="backgrounds/".concat(r);try{let{data:e}=await s.OQ.storage.from("profile-avatars").list("backgrounds");if(e)for(let r of e)r.name.startsWith("bg-".concat(C.id))&&await s.OQ.storage.from("profile-avatars").remove(["backgrounds/".concat(r.name)])}catch(e){console.log("No previous background to delete")}let{error:l}=await s.OQ.storage.from("profile-avatars").upload(a,t,{upsert:!0});if(l)throw l;let{data:n}=s.OQ.storage.from("profile-avatars").getPublicUrl(a),{error:o}=await s.OQ.from("profiles").update({background_url:n.publicUrl}).eq("id",C.id);if(o)throw o;E({...C,background_url:n.publicUrl}),U(n.publicUrl),j({...C,background_url:n.publicUrl}),console.log("Background uploaded successfully:",n.publicUrl)}catch(e){console.error("Error uploading background:",e),alert("Error al subir la imagen de fondo")}finally{A(!1)}}},R=async e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t&&C){A(!0);try{let e=t.name.split(".").pop(),r="".concat(C.id,"-").concat(Date.now(),".").concat(e),a="avatars/".concat(r),{error:l}=await s.OQ.storage.from("profile-avatars").upload(a,t,{upsert:!0});if(l)throw l;let{data:n}=s.OQ.storage.from("profile-avatars").getPublicUrl(a),{error:o}=await s.OQ.from("profiles").update({avatar_url:n.publicUrl}).eq("id",C.id);if(o)throw o;E({...C,avatar_url:n.publicUrl}),O({...z,avatar_url:n.publicUrl})}catch(e){console.error("Error uploading file:",e)}finally{A(!1)}}},T=async()=>{if(C)try{let e={...z};if(e.link_instagram){let r=e.link_instagram.trim();r=(r=(r=r.replace(/^(https?:\/\/)?(www\.)?instagram\.com\//,"")).replace(/^@/,"")).replace(/\/$/,""),e.link_instagram="https://instagram.com/".concat(r)}let{error:r}=await s.OQ.from("profiles").update(e).eq("id",C.id);if(r)throw r;E({...C,...z}),j({...C,...z}),S(!1)}catch(e){console.error("Error updating profile:",e)}},G=e=>{let{name:r,value:t}=e.target;O(e=>({...e,[r]:t}))};return F?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-faculty-primary"})}):C?(0,a.jsx)("div",{className:"min-h-screen bg-black overflow-hidden",children:(0,a.jsxs)("div",{className:"relative min-h-screen",children:[(0,a.jsxs)("div",{className:"absolute inset-0 h-96 bg-cover bg-center",style:{backgroundImage:M?"url(".concat(M,")"):"linear-gradient(135deg, ".concat(null==t?void 0:t.primary,"30 0%, ").concat(null==t?void 0:t.primary,"10 100%)"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black"}),_&&(0,a.jsxs)("button",{onClick:()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.click()},className:"absolute top-4 right-4 p-3 rounded-full backdrop-blur-md bg-black/50 hover:bg-black/70 text-white transition",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),(0,a.jsx)("input",{ref:Q,type:"file",accept:"image/*",onChange:q,disabled:I,className:"hidden"})]})]}),(0,a.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-end gap-6 mb-12 mt-20",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-32 sm:w-40 h-32 sm:h-40 rounded-3xl border-4 shadow-2xl overflow-hidden flex-shrink-0",style:{borderColor:null==t?void 0:t.primary},children:C.avatar_url?(0,a.jsx)("img",{src:C.avatar_url,alt:C.nombre,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white text-5xl font-bold",style:{backgroundColor:null==t?void 0:t.primary},children:null===(e=C.nombre)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),_&&(0,a.jsxs)("label",{className:"absolute bottom-2 right-2 cursor-pointer",children:[(0,a.jsx)("div",{className:"p-3 rounded-full text-white shadow-lg hover:opacity-90 transition-all hover:scale-110",style:{backgroundColor:null==t?void 0:t.primary},children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)("input",{ref:L,type:"file",accept:"image/*",onChange:R,disabled:I,className:"hidden"})]})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold text-white mb-1",children:_?(0,a.jsx)("input",{type:"text",name:"nombre",value:z.nombre||"",onChange:G,className:"bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white w-full backdrop-blur"}):C.nombre}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-gray-300 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:P})]}),C.link_instagram&&!_&&(0,a.jsxs)("a",{href:C.link_instagram.startsWith("http")?C.link_instagram:"https://instagram.com/".concat(C.link_instagram),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-pink-500"}),(0,a.jsxs)("span",{children:["@",C.link_instagram.replace("https://instagram.com/","").replace("/","")]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,a.jsx)("button",{onClick:()=>{_?T():S(!0)},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all duration-200 text-white hover:scale-105",style:{backgroundColor:null==t?void 0:t.primary},children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Guardar"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{className:"w-4 h-4"}),"Editar Perfil"]})}),_&&(0,a.jsxs)("button",{onClick:()=>{S(!1),O(C)},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-medium bg-white/10 hover:bg-white/20 text-white transition-all backdrop-blur",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),"Cancelar"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[(0,a.jsx)("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:(null==t?void 0:t.primary)+"40"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Puntos"}),(0,a.jsx)("p",{className:"text-4xl font-bold",style:{color:null==t?void 0:t.primary},children:C.puntos})]}),(0,a.jsx)(x.Z,{className:"w-12 h-12",style:{color:null==t?void 0:t.primary,opacity:.2}})]})}),(0,a.jsx)("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:(null==t?void 0:t.primary)+"40"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Miembro desde"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:new Date(C.created_at).getFullYear()})]}),(0,a.jsx)(b.Z,{className:"w-12 h-12",style:{color:null==t?void 0:t.primary,opacity:.2}})]})}),(0,a.jsx)("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:(null==t?void 0:t.primary)+"40"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Logros"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:Math.floor(C.puntos/50)})]}),(0,a.jsx)(f.Z,{className:"w-12 h-12",style:{color:null==t?void 0:t.primary,opacity:.2}})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:(null==t?void 0:t.primary)+"40"},children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,a.jsx)(y,{className:"w-4 h-4",style:{color:null==t?void 0:t.primary}}),"Universidad"]}),_?(0,a.jsx)("input",{type:"text",name:"universidad",value:z.universidad||"",onChange:G,className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"}):(0,a.jsx)("div",{className:"text-white font-semibold text-lg",children:C.universidad||"No especificada"})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:(null==t?void 0:t.primary)+"40"},children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4",style:{color:null==t?void 0:t.primary}}),"Carrera"]}),_?(0,a.jsx)("input",{type:"text",name:"carrera",value:z.carrera||"",onChange:G,className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"}):(0,a.jsx)("div",{className:"text-white font-semibold text-lg",children:C.carrera||"No especificada"})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:(null==t?void 0:t.primary)+"40"},children:[(0,a.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4",style:{color:null==t?void 0:t.primary}}),"Instagram"]}),_?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"instagram.com/"}),(0,a.jsx)("input",{type:"text",name:"link_instagram",value:(null===(r=z.link_instagram)||void 0===r?void 0:r.replace("https://instagram.com/",""))||"",onChange:e=>O(r=>({...r,link_instagram:e.target.value})),placeholder:"usuario",className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"})]}):C.link_instagram?(0,a.jsxs)("a",{href:"https://instagram.com/".concat(C.link_instagram.replace("https://instagram.com/","")),target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold text-lg hover:underline truncate block",children:["@",C.link_instagram.replace("https://instagram.com/","")]}):(0,a.jsx)("div",{className:"text-gray-500 italic",children:"No vinculado"})]})]}),(0,a.jsxs)("div",{className:"rounded-xl p-6 border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:(null==t?void 0:t.primary)+"40"},children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)("span",{style:{color:null==t?void 0:t.primary},children:"✨"}),"Acerca de ti"]})}),_?(0,a.jsx)("textarea",{name:"bio",value:z.bio||"",onChange:G,placeholder:"Cu\xe9ntanos sobre ti, tus intereses, logros...",className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-white/40 resize-none",rows:4}):(0,a.jsx)("p",{className:"text-gray-200 leading-relaxed text-base",children:C.bio||"\uD83D\uDCDD No hay informaci\xf3n personal. \xa1Edita tu perfil para agregarlo!"}),(0,a.jsxs)("div",{className:"rounded-xl p-6 border backdrop-blur mb-8",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-color)"},children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-bb-text flex items-center gap-2",children:[(0,a.jsx)("span",{style:{color:null==t?void 0:t.primary},children:"\uD83C\uDFA8"}),"Personalizaci\xf3n"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsx)("button",{onClick:()=>k("light"),className:"group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ".concat("light"===h?"border-blue-500 bg-white":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)("div",{className:"p-1.5 rounded-lg ".concat("light"===h?"bg-blue-100 text-blue-600":"bg-gray-200 dark:bg-zinc-800 text-gray-500"),children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"font-bold text-sm ".concat("light"===h?"text-gray-900":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"),children:"Modo Claro"}),"light"===h&&(0,a.jsx)(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})}),(0,a.jsx)("button",{onClick:()=>k("dark"),className:"group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ".concat("dark"===h?"border-blue-500 bg-[#0f0f0f]":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)("div",{className:"p-1.5 rounded-lg ".concat("dark"===h?"bg-blue-900/30 text-blue-400":"bg-gray-200 dark:bg-zinc-800 text-gray-500"),children:(0,a.jsx)(x.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"font-bold text-sm ".concat("dark"===h?"text-white":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"),children:"Dark S\xf3lido"}),"dark"===h&&(0,a.jsx)(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})}),(0,a.jsxs)("button",{onClick:()=>k("glass"),className:"group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ".concat("glass"===h?"border-blue-500":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"),style:"glass"===h?{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"}:{},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,a.jsx)("div",{className:"p-1.5 rounded-lg ".concat("glass"===h?"bg-white/10 text-blue-300":"bg-gray-200 dark:bg-zinc-800 text-gray-500"),children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"font-bold text-sm ".concat("glass"===h?"text-white":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"),children:"Dark Glass"}),"glass"===h&&(0,a.jsx)(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"text-center mt-12 text-gray-500 text-xs",children:[(0,a.jsxs)("p",{children:["\xdaltima actualizaci\xf3n: ",new Date(C.updated_at).toLocaleDateString("es-ES")," "]}),(0,a.jsxs)("p",{className:"mt-2 text-gray-600",children:["ID: ",C.id.substring(0,8),"..."]})]})]})]})}):null}},9179:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return i},a:function(){return c}});var a=t(7437),l=t(2265),s=t(2141),n=t(9376);let o=(0,l.createContext)(void 0);function i(e){let{children:r}=e,[t,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),[u,m]=(0,l.useState)(null),[h,g]=(0,l.useState)(!0),p=(0,n.useRouter)();(0,l.useEffect)(()=>{let e=!0,{data:{subscription:r}}=s.OQ.auth.onAuthStateChange(async(r,t)=>{if(e){if(console.log("[Auth] Event: ".concat(r)),"SIGNED_OUT"===r){console.log("[Auth] Logout detectado. Limpiando estado..."),d(null),i(null),m(null),g(!1);return}(null==t?void 0:t.user)?(console.log("[Auth] Usuario autenticado: ".concat(t.user.email)),d(t),i(t.user),g(!1),("SIGNED_IN"===r||"INITIAL_SESSION"===r)&&x(t.user.id,t.user)):(d(null),i(null),m(null),g(!1))}});return()=>{e=!1,r.unsubscribe()}},[]);let x=async(e,r)=>{try{console.log("[Auth] Cargando perfil en background...");let{data:t,error:a}=await s.OQ.from("profiles").select("*").eq("id",e).single();if(a){console.error("[Auth] Error al cargar perfil:",a.message),"PGRST116"===a.code&&(console.log("[Auth] Perfil no existe. Creando..."),await b(e,r));return}t&&(console.log("[Auth] ✅ Perfil cargado:",t.nombre),m(t))}catch(e){console.error("[Auth] Error inesperado:",e)}},b=async(e,r)=>{try{var t;let a=r.user_metadata,l={id:e,nombre:(null==a?void 0:a.nombre)||(null===(t=r.email)||void 0===t?void 0:t.split("@")[0])||"Usuario",universidad:(null==a?void 0:a.universidad)||"Universidad Privada",carrera:(null==a?void 0:a.carrera)||"Estudiante",puntos:0},{data:n,error:o}=await s.OQ.from("profiles").insert([l]).select().single();if(o){console.error("[Auth] Error creando perfil:",o);return}console.log("[Auth] ✅ Perfil creado:",n.nombre),m(n)}catch(e){console.error("[Auth] Error al crear perfil:",e)}},f=async()=>{t&&await x(t.id,t)},y=async e=>{m(e)},v=async()=>{try{console.log("[Auth] Cerrando sesi\xf3n..."),await s.OQ.auth.signOut(),localStorage.clear(),sessionStorage.clear(),p.push("/auth/login")}catch(e){console.error("[Auth] Error en signOut:",e)}};return(0,a.jsx)(o.Provider,{value:{user:t,session:c,profile:u,loading:h,signOut:v,refreshProfile:f,updateProfile:y},children:r})}function c(){let e=(0,l.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2141:function(e,r,t){"use strict";t.d(r,{OQ:function(){return a},q4:function(){return l}});let a=(0,t(338).createBrowserClient)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE");async function l(e){return await e()}},9660:function(e,r,t){"use strict";t.d(r,{F:function(){return i},ThemeProvider:function(){return c}});var a=t(7437),l=t(2265),s=t(2141);let n={"Facultad de Ciencias Empresariales":{primary:"#0066FF",secondary:"#E6F0FF",dark:"#0052CC",light:"#F0F7FF"},"Facultad de Derecho":{primary:"#FF0000",secondary:"#FFE6E6",dark:"#CC0000",light:"#FFF0F0"},"Facultad de Econom\xeda y Finanzas":{primary:"#00CC00",secondary:"#E6FFE6",dark:"#009900",light:"#F0FFF0"},"Facultad de Ingenier\xeda":{primary:"#FFCC00",secondary:"#FFFAE6",dark:"#CC9900",light:"#FFFBF0"}},o=(0,l.createContext)({faculty:null,colors:null,setFaculty:()=>{},loading:!0,themeMode:"glass",setThemeMode:()=>{}}),i=()=>(0,l.useContext)(o);function c(e){let{children:r}=e,[t,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0),[u,m]=(0,l.useState)("glass");(0,l.useEffect)(()=>{let e=localStorage.getItem("themeMode");e&&["light","dark","glass"].includes(e)?(m(e),document.documentElement.setAttribute("data-theme",e)):(m("glass"),document.documentElement.setAttribute("data-theme","glass"))},[]),(0,l.useEffect)(()=>{let e=async()=>{try{let{data:{user:e}}=await s.OQ.auth.getUser();if(e){let{data:r}=await s.OQ.from("profiles").select("carrera").eq("id",e.id).single();(null==r?void 0:r.carrera)?i(r.carrera):i(null)}else i(null)}catch(e){console.error("Error loading user faculty:",e),i(null)}finally{d(!1)}};e();let{data:{subscription:r}}=s.OQ.auth.onAuthStateChange(async(r,a)=>{("SIGNED_IN"===r||"SIGNED_OUT"===r||"USER_UPDATED"===r)&&(t||d(!0),await e())});return()=>{null==r||r.unsubscribe()}},[]),(0,l.useEffect)(()=>{if(t&&t in n){let e=n[t];document.documentElement.style.setProperty("--faculty-primary",e.primary),document.documentElement.style.setProperty("--faculty-secondary",e.secondary),document.documentElement.style.setProperty("--faculty-dark",e.dark),document.documentElement.style.setProperty("--faculty-light",e.light)}},[t]);let h=t&&t in n?n[t]:n["Facultad de Ciencias Empresariales"];return(0,a.jsx)(o.Provider,{value:{faculty:t,colors:h,setFaculty:e=>{i(e)},loading:c,themeMode:u,setThemeMode:e=>{m(e),localStorage.setItem("themeMode",e),document.documentElement.setAttribute("data-theme",e)}},children:r})}},9763:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var a=t(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:u,...m}=t;return(0,a.createElement)("svg",{ref:n,...l,width:i,height:i,stroke:o,strokeWidth:d?24*Number(c)/Number(i):c,className:"lucide lucide-".concat(s(e)),...m},[...r.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...(Array.isArray(u)?u:[u])||[]])});return t.displayName="".concat(e),t}},3327:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},1769:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},1047:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},3581:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},7760:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},9345:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3229:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},2489:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1239:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9763).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[338,971,117,744],function(){return e(e.s=4122)}),_N_E=e.O()}]);