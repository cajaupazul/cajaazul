(()=>{var e={};e.id=357,e.ids=[357],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8525:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(6520),r(809),r(5866),r(7510);var a=r(3191),o=r(8716),n=r(7922),s=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(authenticated)",{children:["dashboard",{children:["grupos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6520)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\grupos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,809)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7510)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\grupos\\page.tsx"],u="/(authenticated)/dashboard/grupos/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(authenticated)/dashboard/grupos/page",pathname:"/dashboard/grupos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1543:(e,t,r)=>{Promise.resolve().then(r.bind(r,6073))},6073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(326),o=r(7577),n=r(5442),s=r(2710),i=r(1273),l=r(4061),c=r(3855),d=r(8307),u=r(8378),h=r(4230),p=r(4019),m=r(3685);let f=(0,r(6557).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);var b=r(434),x=r(5795),g=r(9086),y={};!function e(t,r,a,o){var n,s,i,l,c,d,u,h,p,m,f,b=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),x="function"==typeof Path2D&&"function"==typeof DOMMatrix;function g(){}function y(e){var a=r.exports.Promise,o=void 0!==a?a:t.Promise;return"function"==typeof o?new o(e):(e(g,g),null)}var w=(n=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),r=e.getContext("2d");r.fillRect(0,0,1,1);var a=e.transferToImageBitmap();r.createPattern(a,"no-repeat")}catch(e){return!1}return!0}(),s=new Map,{transform:function(e){if(n)return e;if(s.has(e))return s.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),s.set(e,t),t},clear:function(){s.clear()}}),v=(c=Math.floor(1e3/60),d={},u=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(i=function(e){var t=Math.random();return d[t]=requestAnimationFrame(function r(a){u===a||u+c-1<a?(u=a,delete d[t],e()):d[t]=requestAnimationFrame(r)}),t},l=function(e){d[e]&&cancelAnimationFrame(d[e])}):(i=function(e){return setTimeout(e,c)},l=function(e){return clearTimeout(e)}),{frame:i,cancel:l}),j=(m={},function(){if(h)return h;if(!a&&b){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("\uD83C\uDF8A Could not load worker",e),null}!function(e){function t(t,r){e.postMessage({options:t||{},callback:r})}e.init=function(t){var r=t.transferControlToOffscreen();e.postMessage({canvas:r},[r])},e.fire=function(r,a,o){if(p)return t(r,null),p;var n=Math.random().toString(36).slice(2);return p=y(function(a){function s(t){t.data.callback===n&&(delete m[n],e.removeEventListener("message",s),p=null,w.clear(),o(),a())}e.addEventListener("message",s),t(r,n),m[n]=s.bind(null,{data:{callback:n}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),m)m[t](),delete m[t]}}(h)}return h}),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(e,t,r){var a;return a=e&&null!=e[t]?e[t]:M[t],r?r(a):a}function k(e){return e<0?0:Math.floor(e)}function C(e){return parseInt(e,16)}function E(e){return e.map(P)}function P(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:C(t.substring(0,2)),g:C(t.substring(2,4)),b:C(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function _(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function O(e,r){var n,s=!e,i=!!N(r||{},"resize"),l=!1,c=N(r,"disableForReducedMotion",Boolean),d=b&&N(r||{},"useWorker")?j():null,u=s?S:_,h=!!e&&!!d&&!!e.__confetti_initialized,p="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(r){var m,f=c||N(r,"disableForReducedMotion",Boolean),b=N(r,"zIndex",Number);if(f&&p)return y(function(e){e()});s&&n?e=n.canvas:s&&!e&&((m=document.createElement("canvas")).style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=b,e=m,document.body.appendChild(e)),i&&!h&&u(e);var g={width:e.width,height:e.height};function j(){if(d){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};u(t),d.postMessage({resize:{width:t.width,height:t.height}});return}g.width=g.height=null}function M(){n=null,i&&(l=!1,t.removeEventListener("resize",j)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,h=!1)}return(d&&!h&&d.init(e),h=!0,d&&(e.__confetti_initialized=!0),i&&!l&&(l=!0,t.addEventListener("resize",j,!1)),d)?d.fire(r,g,M):function(t,r,s){for(var i,l,c,d,h,p,m,f=N(t,"particleCount",k),b=N(t,"angle",Number),g=N(t,"spread",Number),j=N(t,"startVelocity",Number),M=N(t,"decay",Number),C=N(t,"gravity",Number),P=N(t,"drift",Number),S=N(t,"colors",E),_=N(t,"ticks",Number),O=N(t,"shapes"),I=N(t,"scalar"),T=!!N(t,"flat"),R=((i=N(t,"origin",Object)).x=N(i,"x",Number),i.y=N(i,"y",Number),i),D=f,A=[],L=e.width*R.x,q=e.height*R.y;D--;)A.push(function(e){var t=e.angle*(Math.PI/180),r=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*r-Math.random()*r),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:L,y:q,angle:b,spread:g,startVelocity:j,color:S[D%S.length],shape:O[Math.floor(Math.random()*(O.length-0))+0],ticks:_,decay:M,gravity:C,drift:P,scalar:I,flat:T}));return n?n.addFettis(A):(l=e,h=A.slice(),p=l.getContext("2d"),m=y(function(e){function t(){c=d=null,p.clearRect(0,0,r.width,r.height),w.clear(),s(),e()}c=v.frame(function e(){a&&!(r.width===o.width&&r.height===o.height)&&(r.width=l.width=o.width,r.height=l.height=o.height),r.width||r.height||(u(l),r.width=l.width,r.height=l.height),p.clearRect(0,0,r.width,r.height),(h=h.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var r,a,o,n,s,i,l,c,d,u,h,p,m,f,b,g,y=t.tick++/t.totalTicks,v=t.x+t.random*t.tiltCos,j=t.y+t.random*t.tiltSin,M=t.wobbleX+t.random*t.tiltCos,N=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-y)+")",e.beginPath(),x&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill((r=t.shape.path,a=t.shape.matrix,o=t.x,n=t.y,s=.1*Math.abs(M-v),i=.1*Math.abs(N-j),l=Math.PI/10*t.wobble,c=new Path2D(r),(d=new Path2D).addPath(c,new DOMMatrix(a)),(u=new Path2D).addPath(d,new DOMMatrix([Math.cos(l)*s,Math.sin(l)*s,-Math.sin(l)*i,Math.cos(l)*i,o,n])),u));else if("bitmap"===t.shape.type){var k=Math.PI/10*t.wobble,C=.1*Math.abs(M-v),E=.1*Math.abs(N-j),P=t.shape.bitmap.width*t.scalar,S=t.shape.bitmap.height*t.scalar,_=new DOMMatrix([Math.cos(k)*C,Math.sin(k)*C,-Math.sin(k)*E,Math.cos(k)*E,t.x,t.y]);_.multiplySelf(new DOMMatrix(t.shape.matrix));var O=e.createPattern(w.transform(t.shape.bitmap),"no-repeat");O.setTransform(_),e.globalAlpha=1-y,e.fillStyle=O,e.fillRect(t.x-P/2,t.y-S/2,P,S),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(M-v)*t.ovalScalar,Math.abs(N-j)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(h=t.x,p=t.y,m=Math.abs(M-v)*t.ovalScalar,f=Math.abs(N-j)*t.ovalScalar,b=Math.PI/10*t.wobble,g=2*Math.PI,e.save(),e.translate(h,p),e.rotate(b),e.scale(m,f),e.arc(0,0,1,0,g,void 0),e.restore());else if("star"===t.shape)for(var I=Math.PI/2*3,T=4*t.scalar,R=8*t.scalar,D=t.x,A=t.y,L=5,q=Math.PI/5;L--;)D=t.x+Math.cos(I)*R,A=t.y+Math.sin(I)*R,e.lineTo(D,A),I+=q,D=t.x+Math.cos(I)*T,A=t.y+Math.sin(I)*T,e.lineTo(D,A),I+=q;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(j)),e.lineTo(Math.floor(M),Math.floor(N)),e.lineTo(Math.floor(v),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(p,e)})).length?c=v.frame(e):t()}),d=t}),(n={addFettis:function(e){return h=h.concat(e),m},canvas:l,promise:m,reset:function(){c&&v.cancel(c),d&&d()}}).promise)}(r,g,M)}return m.reset=function(){d&&d.reset(),n&&n.reset()},m}function I(){return f||(f=O(null,{useWorker:!0,resize:!0})),f}r.exports=function(){return I().apply(this,arguments)},r.exports.reset=function(){I().reset()},r.exports.create=O,r.exports.shapeFromPath=function(e){if(!x)throw Error("path confetti are not supported in this browser");"string"==typeof e?a=e:(a=e.path,o=e.matrix);var t=new Path2D(a),r=document.createElement("canvas").getContext("2d");if(!o){for(var a,o,n,s,i=1e3,l=1e3,c=0,d=0,u=0;u<1e3;u+=2)for(var h=0;h<1e3;h+=2)r.isPointInPath(t,u,h,"nonzero")&&(i=Math.min(i,u),l=Math.min(l,h),c=Math.max(c,u),d=Math.max(d,h));var p=Math.min(10/(n=c-i),10/(s=d-l));o=[p,0,0,p,-Math.round(n/2+i)*p,-Math.round(s/2+l)*p]}return{type:"path",path:a,matrix:o}},r.exports.shapeFromText=function(e){var t,r=1,a="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,r="scalar"in e?e.scalar:r,o="fontFamily"in e?e.fontFamily:o,a="color"in e?e.color:a);var n=10*r,s=""+n+"px "+o,i=new OffscreenCanvas(n,n),l=i.getContext("2d");l.font=s;var c=l.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),u=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),h=c.actualBoundingBoxLeft+2,p=c.actualBoundingBoxAscent+2;d+=4,u+=4,(l=(i=new OffscreenCanvas(d,u)).getContext("2d")).font=s,l.fillStyle=a,l.fillText(t,h,p);var m=1/r;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[m,0,0,m,-d*m/2,-u*m/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),y,!1);let w=y.exports;function v(){let{profile:e,loading:t}=(0,s.U)(),{colors:r}=(0,i.F)(),[y,v]=(0,o.useState)([]),[j,M]=(0,o.useState)(!0),[N,k]=(0,o.useState)(""),[C,E]=(0,o.useState)(!1),[P,S]=(0,o.useState)(null),[_,O]=(0,o.useState)({nombre:"",descripcion:"",tipo:"",link_whatsapp:""}),[I,T]=(0,o.useState)(null),[R,D]=(0,o.useState)(null),[A,L]=(0,o.useState)(!1),[q,U]=(0,o.useState)(!1),[z,Z]=(0,o.useState)({}),[B,F]=(0,o.useState)(new Set),$=(0,o.useCallback)(async()=>{try{M(e=>!0);let{data:e,error:t}=await n.OQ.from("grupos").select(`
          *,
          grupo_miembros(count)
        `).order("created_at",{ascending:!1});if(t)throw t;v(e||[]);let r={};e?.forEach(e=>{r[e.id]=e.grupo_miembros?.[0]?.count||0}),Z(r)}catch(e){console.error("Error cargando grupos:",e)}finally{M(!1)}},[]);(0,o.useCallback)(async()=>{if(e?.id)try{let{data:t,error:r}=await n.OQ.from("grupo_miembros").select("grupo_id").eq("user_id",e.id);if(r)throw r;F(new Set(t?.map(e=>e.grupo_id)||[]))}catch(e){console.error("Error cargando grupos del usuario:",e)}},[e?.id]);let G=()=>{let e=Date.now()+1e3,t=[r?.primary||"#3b82f6","#ffffff"];!function r(){w({particleCount:2,angle:60,spread:55,origin:{x:0},colors:t}),w({particleCount:2,angle:120,spread:55,origin:{x:1},colors:t}),Date.now()<e&&requestAnimationFrame(r)}()},H=async(t,r)=>{t.preventDefault(),t.stopPropagation();try{let{error:t}=await n.OQ.from("grupo_miembros").insert([{grupo_id:r,user_id:e?.id}]);if(t)throw t;F(e=>new Set([...e,r])),Z(e=>({...e,[r]:(e[r]||0)+1})),G()}catch(e){console.error("Error uni\xe9ndose al grupo:",e)}},Q=async(t,r)=>{if(t.preventDefault(),t.stopPropagation(),confirm("\xbfEst\xe1s seguro de abandonar este grupo?"))try{let{error:t}=await n.OQ.from("grupo_miembros").delete().eq("grupo_id",r).eq("user_id",e?.id);if(t)throw t;let a=new Set(B);a.delete(r),F(a),Z(e=>({...e,[r]:Math.max(0,(e[r]||0)-1)}))}catch(e){console.error("Error abandonando grupo:",e)}},W=async(t,r)=>{if(!t||!e?.id)return null;let a=t.name.split(".").pop(),o=`${Date.now()}-${Math.random().toString(36).substring(2)}.${a}`,s=`${e.id}/${o}`;try{let{error:e}=await n.OQ.storage.from("grupos").upload(s,t);if(e)throw e;let{data:r}=n.OQ.storage.from("grupos").getPublicUrl(s);return r.publicUrl}catch(e){return console.error(`Error subiendo ${r}:`,e),null}},X=async t=>{if(t.preventDefault(),!_.nombre||!_.tipo){alert("Por favor completa los campos requeridos");return}if(y.some(e=>e.tipo===_.tipo&&e.nombre===_.nombre&&e.id!==P?.id)){alert("Ya existe un grupo con este nombre y tipo");return}try{let t=P?.logo_url,r=P?.banner_url;I&&(L(!0),t=await W(I,"logo"),L(!1)),R&&(U(!0),r=await W(R,"banner"),U(!1));let a={nombre:_.nombre,descripcion:_.descripcion,tipo:_.tipo,link_whatsapp:_.link_whatsapp,logo_url:t,banner_url:r};if(P){let{error:e}=await n.OQ.from("grupos").update(a).eq("id",P.id);if(e)throw e}else{let{error:t}=await n.OQ.from("grupos").insert([{...a,created_by:e?.id}]);if(t)throw t;G()}E(!1),O({nombre:"",descripcion:"",tipo:"",link_whatsapp:""}),T(null),D(null),S(null),$()}catch(e){console.error("Error operando grupo:",e),alert("Ocurri\xf3 un error")}},V=(e,t)=>{e.preventDefault(),e.stopPropagation(),S(t),O({nombre:t.nombre,descripcion:t.descripcion||"",tipo:t.tipo,link_whatsapp:t.link_whatsapp||""}),E(!0)},Y=y.filter(e=>e.nombre.toLowerCase().includes(N.toLowerCase())||e.tipo.toLowerCase().includes(N.toLowerCase()));return j?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-bb-dark",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-t-2",style:{borderColor:r?.primary}}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(l.Z,{className:"w-6 h-6 text-gray-400 opacity-50"})})]}),a.jsx("p",{className:"text-gray-400 mt-4 animate-pulse",children:"Cargando comunidad..."})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-bb-dark p-8 relative overflow-hidden",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto relative z-10",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-12 gap-4",children:[(0,a.jsxs)(x.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[(0,a.jsxs)("h1",{className:"text-5xl font-black text-bb-text mb-2 tracking-tight flex items-center gap-3",children:["Grupos ",a.jsx("span",{className:"text-blue-400",children:"Universitarios"})]}),a.jsx("p",{className:"text-bb-text-secondary text-lg max-w-xl",children:"Conecta, aprende y divi\xe9rtete. \xdanete a comunidades lideradas por estudiantes como t\xfa."})]}),(0,a.jsxs)(x.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{S(null),O({nombre:"",descripcion:"",tipo:"",link_whatsapp:""}),T(null),D(null),E(!0)},className:"flex items-center gap-2 px-8 py-4 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 transition-all",children:[a.jsx(c.Z,{className:"w-6 h-6"}),"Crear Nuevo Grupo"]})]}),(0,a.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 relative max-w-2xl",children:[a.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:a.jsx(d.Z,{className:"w-5 h-5 text-bb-text-secondary"})}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o categor\xeda...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl bg-bb-card border border-bb-border text-bb-text placeholder:text-bb-text-secondary focus:outline-none focus:border-blue-500/50 transition-all"})]}),0===Y.length?(0,a.jsxs)(x.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"bg-white/5 p-8 rounded-full mb-6",children:a.jsx(l.Z,{className:"w-16 h-16 text-gray-500"})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No encontramos grupos"}),a.jsx("p",{className:"text-gray-400",children:"S\xe9 el primero en crear uno para esta categor\xeda."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.jsx(g.M,{children:Y.map((t,o)=>{let n=B.has(t.id),s=t.created_by===e?.id;return a.jsx(x.E.div,{layout:!0,initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:.05*o},children:(0,a.jsxs)(b.default,{href:`/dashboard/grupos/${t.id}`,className:"group block h-full rounded-2xl overflow-hidden bg-bb-card border border-bb-border hover:border-blue-500/30 transition-all shadow-xl hover:shadow-2xl relative",children:[(0,a.jsxs)("div",{className:"h-40 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:t.banner_url?`url(${t.banner_url})`:void 0,backgroundColor:r?.secondary||"#1e293b"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-bb-card to-transparent"}),s&&a.jsx("button",{onClick:e=>V(e,t),className:"absolute top-3 right-3 p-2 rounded-full bg-black/60 hover:bg-black/80 text-white backdrop-blur-md transition-all opacity-0 group-hover:opacity-100",children:a.jsx(u.Z,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between items-end",children:a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-black/60 backdrop-blur text-white border border-white/10",children:t.tipo})})]}),(0,a.jsxs)("div",{className:"p-6 pt-12 relative",children:[a.jsx("div",{className:"absolute -top-10 left-6",children:a.jsx(x.E.div,{whileHover:{rotate:5,scale:1.1},className:"w-20 h-20 rounded-2xl border-4 border-bb-card bg-bb-card shadow-lg overflow-hidden flex items-center justify-center text-2xl font-bold text-white",style:{backgroundColor:t.logo_url?"transparent":r?.primary||"#3b82f6"},children:t.logo_url?a.jsx("img",{src:t.logo_url,alt:t.nombre,className:"w-full h-full object-cover"}):t.nombre.charAt(0).toUpperCase()})}),a.jsx("div",{className:"flex justify-between items-start mb-2 pl-24",children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-400 bg-white/5 px-2 py-1 rounded-lg",children:[a.jsx(l.Z,{className:"w-3.5 h-3.5"}),z[t.id]||0]})}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-1 group-hover:text-blue-400 transition-colors",children:t.nombre}),a.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-6 h-10",children:t.descripcion||"Sin descripci\xf3n disponible."}),a.jsx("div",{className:"flex gap-3 mt-auto",children:n?a.jsx("button",{onClick:e=>Q(e,t.id),className:"flex-1 px-4 py-2.5 rounded-xl bg-red-500/10 hover:bg-red-500/20 text-red-500 font-semibold transition-all text-sm border border-red-500/20",children:"Abandonar"}):(0,a.jsxs)(x.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>H(e,t.id),className:"flex-1 px-4 py-2.5 rounded-xl font-bold text-sm text-white shadow-lg transition-all flex items-center justify-center gap-2",style:{backgroundColor:r?.primary||"#3b82f6"},children:["Unirse",a.jsx(h.Z,{className:"w-4 h-4 opacity-50"})]})})]})]})]})},t.id)})})})]}),a.jsx(g.M,{children:C&&a.jsx(x.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx(x.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-[#242424] rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/10 shadow-2xl",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8 border-b border-white/5 pb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-white",children:P?"Editar Grupo":"Crear Comunidad"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Comparte tus intereses con toda la universidad."})]}),a.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-white/10 rounded-full transition-all text-gray-400 hover:text-white",children:a.jsx(p.Z,{className:"w-6 h-6"})})]}),(0,a.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Nombre"}),a.jsx("input",{type:"text",value:_.nombre,onChange:e=>O({..._,nombre:e.target.value}),placeholder:"Ej: Club de Ajedrez",className:"w-full px-4 py-3 rounded-xl bg-black/40 border border-white/10 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Categor\xeda"}),a.jsx("input",{type:"text",value:_.tipo,onChange:e=>O({..._,tipo:e.target.value}),placeholder:"Ej: Deporte, Arte...",className:"w-full px-4 py-3 rounded-xl bg-black/40 border border-white/10 text-white focus:outline-none focus:border-blue-500 transition-colors"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Descripci\xf3n"}),a.jsx("textarea",{value:_.descripcion,onChange:e=>O({..._,descripcion:e.target.value}),placeholder:"\xbfDe qu\xe9 trata este grupo?",rows:4,className:"w-full px-4 py-3 rounded-xl bg-black/40 border border-white/10 text-white focus:outline-none focus:border-blue-500 transition-colors resize-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"WhatsApp / Discord Link"}),a.jsx("input",{type:"url",value:_.link_whatsapp,onChange:e=>O({..._,link_whatsapp:e.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl bg-black/40 border border-white/10 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"p-4 rounded-xl border-2 border-dashed border-white/10 hover:border-blue-500/50 transition-colors bg-white/5 text-center",children:(0,a.jsxs)("label",{className:"cursor-pointer block",children:[a.jsx("span",{className:"block text-xs font-bold text-gray-400 mb-2",children:"LOGO DEL GRUPO"}),a.jsx("div",{className:"w-16 h-16 mx-auto bg-black/50 rounded-lg flex items-center justify-center mb-2",children:I?a.jsx("img",{src:URL.createObjectURL(I),className:"w-full h-full object-cover rounded-lg"}):a.jsx(m.Z,{className:"text-gray-500"})}),a.jsx("span",{className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:I?"Cambiar imagen":"Subir imagen"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>T(e.target.files?.[0]||null)})]})}),a.jsx("div",{className:"p-4 rounded-xl border-2 border-dashed border-white/10 hover:border-blue-500/50 transition-colors bg-white/5 text-center",children:(0,a.jsxs)("label",{className:"cursor-pointer block",children:[a.jsx("span",{className:"block text-xs font-bold text-gray-400 mb-2",children:"PORTADA GRANDE"}),a.jsx("div",{className:"w-full h-16 mx-auto bg-black/50 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:R?a.jsx("img",{src:URL.createObjectURL(R),className:"w-full h-full object-cover"}):a.jsx(m.Z,{className:"text-gray-500"})}),a.jsx("span",{className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:R?"Cambiar banner":"Subir banner"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>D(e.target.files?.[0]||null)})]})})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-end pt-6 border-t border-white/10 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-6 py-3 rounded-xl font-bold text-gray-400 hover:bg-white/5 transition-all",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:A||q,className:"px-8 py-3 rounded-xl font-bold text-white shadow-lg shadow-blue-600/20 hover:shadow-blue-600/40 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:r?.primary||"#3b82f6"},children:A||q?(0,a.jsxs)(a.Fragment,{children:[a.jsx(f,{className:"w-4 h-4 animate-spin"}),"Procesando..."]}):P?"Guardar Cambios":"Crear Grupo"})]})]})]})})})})]})}y.exports.create},4230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},6520:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\huama\Downloads\bolt descomprimido\project-bolt-sb1-emsbaasg\project\app\(authenticated)\dashboard\grupos\page.tsx#default`)},9086:(e,t,r)=>{"use strict";r.d(t,{M:()=>y});var a=r(326),o=r(7577),n=r(339),s=r(4749),i=r(2482),l=r(295),c=r(9539),d=r(3965);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class h extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.R)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:t,anchorX:r,root:n}){let s=(0,o.useId)(),i=(0,o.useRef)(null),l=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,o.useContext)(d._),p=function(...e){return o.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=u(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:a,top:o,left:d,right:u}=l.current;if(t||!i.current||!e||!a)return;let h="left"===r?`left: ${d}`:`right: ${u}`;i.current.dataset.motionPopId=s;let p=document.createElement("style");c&&(p.nonce=c);let m=n??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            ${h}px !important;
            top: ${o}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[t]),(0,a.jsx)(h,{isPresent:t,childRef:i,sizeRef:l,children:o.cloneElement(e,{ref:p})})}let m=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:c,mode:d,anchorX:u,root:h})=>{let m=(0,s.h)(f),b=(0,o.useId)(),x=!0,g=(0,o.useMemo)(()=>(x=!1,{id:b,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),[r,m,n]);return c&&x&&(g={...g}),(0,o.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),o.useEffect(()=>{r||m.size||!n||n()},[r]),"popLayout"===d&&(e=(0,a.jsx)(p,{isPresent:r,anchorX:u,root:h,children:e})),(0,a.jsx)(l.O.Provider,{value:g,children:e})};function f(){return new Map}var b=r(6933);let x=e=>e.key||"";function g(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:h="left",root:p})=>{let[f,y]=(0,b.oO)(u),w=(0,o.useMemo)(()=>g(e),[e]),v=u&&!f?[]:w.map(x),j=(0,o.useRef)(!0),M=(0,o.useRef)(w),N=(0,s.h)(()=>new Map),[k,C]=(0,o.useState)(w),[E,P]=(0,o.useState)(w);(0,i.L)(()=>{j.current=!1,M.current=w;for(let e=0;e<E.length;e++){let t=x(E[e]);v.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[E,v.length,v.join("-")]);let S=[];if(w!==k){let e=[...w];for(let t=0;t<E.length;t++){let r=E[t],a=x(r);v.includes(a)||(e.splice(t,0,r),S.push(r))}return"wait"===d&&S.length&&(e=S),P(g(e)),C(w),null}let{forceRender:_}=(0,o.useContext)(n.p);return(0,a.jsx)(a.Fragment,{children:E.map(e=>{let o=x(e),n=(!u||!!f)&&(w===E||v.includes(o));return(0,a.jsx)(m,{isPresent:n,initial:(!j.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:p,onExitComplete:n?void 0:()=>{if(!N.has(o))return;N.set(o,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(_?.(),P(M.current),u&&y?.(),l&&l())},anchorX:h,children:e},o)})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[162,167,721,414,795,588],()=>r(8525));module.exports=a})();