(()=>{var e={};e.id=634,e.ids=[634],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},7991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>b,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>n}),r(4911),r(809),r(5866),r(1590);var s=r(3191),a=r(8716),o=r(7922),i=r.n(o),l=r(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let n=["",{children:["(authenticated)",{children:["dashboard",{children:["professors",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4911)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\professors\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,809)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1590)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\professors\\[id]\\page.tsx"],u="/(authenticated)/dashboard/professors/[id]/page",b={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(authenticated)/dashboard/professors/[id]/page",pathname:"/dashboard/professors/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},8882:(e,t,r)=>{Promise.resolve().then(r.bind(r,3242))},7227:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(326),a=r(7577),o=r(5795),i=r(1273);function l(){let{colors:e,themeMode:t}=(0,i.F)(),[r,l]=(0,a.useState)([]);return"dark"===t?null:s.jsx("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:r.map(t=>s.jsx(o.E.div,{className:"absolute rounded-full opacity-30 blur-3xl mix-blend-multiply filter",style:{backgroundColor:t.id%2==0?e?.primary||"#3b82f6":e?.secondary||"#6366f1",width:t.size,height:t.size,left:`${t.x}%`,top:`${t.y}%`},animate:{x:[0,200*Math.random()-100,0],y:[0,200*Math.random()-100,0],scale:[1,1.2,1]},transition:{duration:t.duration,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:t.delay}},t.id))})}},3242:(e,t,r)=>{"use strict";r.d(t,{default:()=>Z});var s=r(326),a=r(7577),o=r(5047),i=r(772),l=r(1048),d=r(7673),n=r(8758),c=r(2288),u=r(6333),b=r(3734),p=r(8907),x=r(1572),m=r(7069),h=r(6993),f=r(9730),g=r(9635),y=r(8019),v=r(434),j=r(5442),w=r(1273),N=r(7227),k=r(5795);let _={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},C={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},R=e=>{let t=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316"],r=0;for(let t=0;t<e.length;t++)r=e.charCodeAt(t)+((r<<5)-r);return t[Math.abs(r)%t.length]},M=(e,t)=>{if(!e||e.includes("picsum.photos")){let e=t.split("").reduce((e,t)=>e+t.charCodeAt(0),0);return`https://source.unsplash.com/1600x900/?nature,landscape&sig=${e}`}return e.includes("source.unsplash.com")&&!e.includes("1600x900")?e.replace(/\d+x\d+/,"1600x900"):e};function Z({professor:e,initialRatings:t,courseMapping:r={},professorLinkMapping:Z={},aggregatedOtherCourses:E=[],relatedProfessors:P=[]}){let S=(0,o.useRouter)(),{colors:I}=(0,w.F)(),[O,q]=(0,a.useState)(t),[F,L]=(0,a.useState)(!1),[A,z]=(0,a.useState)(null),[D,T]=(0,a.useState)({x:0,y:0}),[U,J]=(0,a.useState)({puntuacion:5,comentario:"",claridad:5,facilidad:5}),$=async t=>{t.preventDefault();let{data:{user:r}}=await j.OQ.auth.getUser();if(!r)return;let{error:s}=await j.OQ.from("professor_ratings").insert({professor_id:e.id,user_id:r.id,puntuacion:U.puntuacion,comentario:U.comentario,claridad:U.claridad,facilidad:U.facilidad});s||(L(!1),J({puntuacion:5,comentario:"",claridad:5,facilidad:5}),S.refresh())},B=O.length>0?(O.reduce((e,t)=>e+t.puntuacion,0)/O.length).toFixed(1):"0.0",H=O.filter(e=>e.claridad).length>0?(O.filter(e=>e.claridad).reduce((e,t)=>e+(t.claridad||0),0)/O.filter(e=>e.claridad).length).toFixed(1):"0.0",G=O.filter(e=>e.facilidad).length>0?(O.filter(e=>e.facilidad).reduce((e,t)=>e+(t.facilidad||0),0)/O.filter(e=>e.facilidad).length).toFixed(1):"0.0";return(0,s.jsxs)("div",{className:"min-h-screen bg-bb-dark p-8 relative overflow-hidden transition-colors duration-300",children:[s.jsx(N.Z,{}),(0,s.jsxs)(k.E.div,{initial:"hidden",animate:"visible",variants:_,className:"max-w-7xl mx-auto relative z-10",children:[s.jsx(k.E.div,{variants:C,className:"mb-8",children:s.jsx(v.default,{href:"/dashboard/professors",children:(0,s.jsxs)(i.z,{variant:"ghost",className:"text-bb-text-secondary hover:text-bb-text hover:bg-bb-hover group pl-0",children:[s.jsx(u.Z,{className:"h-5 w-5 mr-1 group-hover:-translate-x-1 transition-transform"}),"Volver a Profesores"]})})}),(0,s.jsxs)(k.E.div,{variants:C,className:"mb-10 relative overflow-hidden rounded-3xl bg-bb-card border border-bb-border",children:[e.background_image_url&&(0,s.jsxs)("div",{className:"relative h-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${M(e.background_image_url,e.nombre)}')`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-bb-card/60 to-bb-card"})]}),(0,s.jsxs)("div",{className:`relative z-10 p-8 flex flex-col md:flex-row gap-8 items-center md:items-start text-center md:text-left ${e.background_image_url?"-mt-16":""}`,children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 rounded-3xl flex items-center justify-center text-white font-bold text-5xl shadow-2xl border-4 border-bb-card",style:{backgroundColor:R(e.nombre)},children:e.nombre.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"absolute -bottom-3 -right-3 bg-yellow-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg flex items-center gap-1 border border-yellow-400/50",children:[s.jsx(b.Z,{className:"w-3 h-3 fill-white"})," ",B]})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-black text-bb-text",children:e.nombre}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center md:justify-start",children:[e.especialidad&&Z[e.especialidad.toLowerCase()]?s.jsx(v.default,{href:`/dashboard/professors/${Z[e.especialidad.toLowerCase()]}`,className:"bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-sm border border-blue-500/20 hover:bg-blue-500/20 transition-colors font-bold",children:e.especialidad}):e.especialidad&&s.jsx("span",{className:"bg-bb-darker/50 text-bb-text/40 px-3 py-1 rounded-lg text-sm border border-bb-border/50 opacity-50 cursor-not-allowed",children:e.especialidad}),e.facultad&&s.jsx("span",{className:"bg-bb-card text-bb-text-secondary px-3 py-1 rounded-lg text-sm border border-bb-border",children:e.facultad})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 min-w-[140px]",children:[(0,s.jsxs)(c.Vq,{open:F,onOpenChange:L,children:[s.jsx(c.hg,{asChild:!0,children:(0,s.jsxs)(i.z,{className:"w-full bg-blue-600 hover:bg-blue-500 font-bold h-11 shadow-lg shadow-blue-500/20 text-white",children:[s.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Calificar"]})}),(0,s.jsxs)(c.cZ,{className:"bg-bb-card border-bb-border text-bb-text sm:max-w-md",children:[(0,s.jsxs)(c.fK,{children:[(0,s.jsxs)(c.$N,{className:"text-2xl font-bold",children:["Califica a ",e.nombre.split(" ")[0]]}),s.jsx(c.Be,{className:"text-bb-text-secondary",children:"Tu opini\xf3n ayuda a futuros estudiantes."})]}),(0,s.jsxs)("form",{onSubmit:$,className:"space-y-6 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[[{label:"Puntuaci\xf3n General",key:"puntuacion",icon:p.Z,color:"text-yellow-400"},{label:"Claridad en Clase",key:"claridad",icon:x.Z,color:"text-blue-400"},{label:"Facilidad para Aprobar",key:"facilidad",icon:m.Z,color:"text-green-400"}].map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l._,{className:"flex items-center gap-2 text-bb-text",children:[s.jsx(e.icon,{className:`w-4 h-4 ${e.color}`})," ",e.label]}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(t=>s.jsx("button",{type:"button",onClick:()=>J({...U,[e.key]:t}),className:"group p-1 focus:outline-none transition-transform active:scale-95",children:s.jsx(b.Z,{className:`w-8 h-8 transition-colors ${t<=U[e.key]?"fill-yellow-400 text-yellow-400":"text-gray-400 fill-gray-200 dark:fill-gray-800"}`})},t))})]},e.key)),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"comentario",className:"text-bb-text",children:"Comentario (Opcional)"}),s.jsx(d.g,{id:"comentario",value:U.comentario,onChange:e=>J({...U,comentario:e.target.value}),placeholder:"\xbfQu\xe9 tal ense\xf1a?",className:"bg-bb-darker border-bb-border text-bb-text min-h-[100px]"})]})]}),s.jsx(i.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-500 font-bold h-11 text-white",children:"Publicar Rese\xf1a"})]})]})]}),(0,s.jsxs)(i.z,{variant:"outline",className:"w-full border-bb-border bg-bb-darker text-bb-text-secondary hover:bg-bb-hover hover:text-bb-text",children:[s.jsx(h.Z,{className:"h-4 w-4 mr-2"})," Compartir"]})]})]}),s.jsx("div",{className:"grid grid-cols-3 divide-x divide-bb-border border-t border-bb-border bg-bb-darker/50",children:[{label:"Calificaci\xf3n",value:B,icon:b.Z},{label:"Claridad",value:H,icon:x.Z},{label:"Facilidad",value:G,icon:m.Z}].map((e,t)=>(0,s.jsxs)("div",{className:"p-4 flex flex-col items-center justify-center hover:bg-bb-card transition-colors",children:[s.jsx("span",{className:"text-2xl font-black text-bb-text mb-1",children:e.value}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-bb-text-secondary uppercase tracking-wide font-bold",children:[s.jsx(e.icon,{className:"w-3.5 h-3.5"})," ",e.label]})]},t))})]}),(0,s.jsxs)(k.E.div,{variants:C,className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-10",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[e.email&&(0,s.jsxs)("div",{className:"bg-bb-card border border-bb-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-bb-text mb-4 flex items-center gap-2",children:[s.jsx(f.Z,{className:"w-5 h-5 text-blue-400"}),"Contacto"]}),(0,s.jsxs)("a",{href:`mailto:${e.email}`,className:"flex items-center gap-3 text-bb-text hover:text-blue-400 transition-colors group",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10 text-blue-400 group-hover:bg-blue-500/20",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),s.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-bb-text-secondary",children:"Correo Electr\xf3nico"}),s.jsx("p",{className:"font-medium",children:e.email})]})]})]}),(0,s.jsxs)("div",{className:"bg-bb-card border border-bb-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-bb-text mb-4 flex items-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-purple-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"})}),"Otros Cursos"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:E.length>0?E.map((e,t)=>{let r=e.trim(),a=Z[r.toLowerCase()];return a?s.jsx(v.default,{href:`/dashboard/professors/${a}`,className:"px-4 py-2 rounded-xl bg-purple-500/10 text-purple-400 border border-purple-500/20 text-sm font-medium hover:bg-purple-500/20 transition-colors",children:r},t):s.jsx("span",{className:"px-4 py-2 rounded-xl bg-bb-darker/50 text-bb-text-secondary/40 border border-bb-border/50 text-sm font-medium opacity-50 cursor-not-allowed",children:r},t)}):s.jsx("p",{className:"text-sm text-bb-text-secondary",children:"No se encontraron otros cursos."})})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-bb-card border border-bb-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-bb-text mb-4 flex items-center gap-2",children:[s.jsx(g.Z,{className:"w-5 h-5 text-green-400"}),"Otros Profesores de ",e.especialidad]}),P.length>0?s.jsx("div",{className:"space-y-3",children:P.map(e=>s.jsx(v.default,{href:`/dashboard/professors/${e.id}`,className:"block p-4 rounded-xl bg-bb-darker border border-bb-border hover:border-green-500/50 hover:bg-green-500/5 transition-all group",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-500/20 to-blue-500/20 flex items-center justify-center text-green-400 font-bold text-sm shrink-0 group-hover:scale-110 transition-transform",children:e.nombre.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-bb-text group-hover:text-green-400 transition-colors truncate",children:e.nombre}),e.facultad&&s.jsx("p",{className:"text-xs text-bb-text-secondary truncate mt-0.5",children:e.facultad})]})]})},e.id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx(y.Z,{className:"w-8 h-8 text-bb-text-secondary mx-auto mb-2 opacity-20"}),(0,s.jsxs)("p",{className:"text-sm text-bb-text-secondary",children:["No hay otros profesores de ",e.especialidad]})]})]}),(0,s.jsxs)("div",{className:"bg-bb-card border border-bb-border rounded-2xl p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-bb-text mb-4 flex items-center gap-2",children:[s.jsx(m.Z,{className:"w-5 h-5 text-blue-400"}),"Resumen"]}),s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-bb-text-secondary text-sm",children:"Total de Rese\xf1as"}),s.jsx("span",{className:"text-bb-text font-bold text-lg",children:O.length})]})})]})]})]}),(0,s.jsxs)(k.E.div,{variants:C,className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-bb-text flex items-center gap-2",children:[s.jsx(f.Z,{className:"w-6 h-6 text-blue-400"}),"Rese\xf1as",(0,s.jsxs)("span",{className:"text-sm font-normal text-bb-text-secondary ml-2",children:["(",O.length,")"]})]}),O.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.map(e=>(0,s.jsxs)(k.E.div,{initial:{opacity:0},animate:{opacity:1},className:"glass-card p-6 rounded-2xl hover:border-blue-500/30 transition-colors",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4 relative",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(n.qE,{className:"h-10 w-10 border border-bb-border",children:[s.jsx(n.F$,{src:e.profiles?.avatar_url||""}),s.jsx(n.Q5,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white font-bold",children:e.profiles?.nombre.charAt(0)})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-bold text-bb-text",children:e.profiles?.nombre}),s.jsx("p",{className:"text-xs text-bb-text-secondary",children:new Date(e.created_at).toLocaleDateString()})]})]}),s.jsx("div",{className:"flex gap-1",children:Array.from({length:5}).map((t,r)=>s.jsx(b.Z,{className:`w-4 h-4 ${r<e.puntuacion?"fill-yellow-500 text-yellow-500":"fill-gray-300 text-gray-300"}`},r))})]}),e.comentario&&(0,s.jsxs)("p",{className:"text-bb-text italic mb-4 pl-4 border-l-2 border-blue-500/30",children:['"',e.comentario,'"']})]},e.id))}):s.jsx("div",{className:"text-center py-16 bg-bb-card rounded-3xl border border-dashed border-bb-border",children:s.jsx("p",{className:"text-bb-text-secondary text-lg",children:"S\xe9 el primero en calificar."})})]})]})]})}},1048:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(326),a=r(7577),o=r(4478),i=r(9360),l=r(7863);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...t},r)=>s.jsx(o.f,{ref:r,className:(0,l.cn)(d(),e),...t}));n.displayName=o.f.displayName},7673:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var s=r(326),a=r(7577),o=r(7863);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Textarea"},6333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9730:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},6993:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},1572:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},3734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},7069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},8907:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},9635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4911:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,revalidate:()=>d});var s=r(9510);r(1159);var a=r(8585),o=r(1472);let i=(0,r(8570).createProxy)(String.raw`C:\Users\huama\Downloads\bolt descomprimido\project-bolt-sb1-emsbaasg\project\components\professors\ProfessorRatingsContent.tsx#default`);var l=r(5662);let d=0;async function n({params:e}){let t=(0,o.e)(),r=e.id,{data:{session:d}}=await t.auth.getSession();d||(0,a.redirect)("/auth/login");let{data:n,error:c}=await (0,l.q4)(async()=>await t.from("professors").select("*").eq("id",r).single());(!n||c)&&(0,a.notFound)();let[u,b,p]=await Promise.all([(0,l.q4)(async()=>await t.from("professors").select("id, especialidad, otros_cursos").ilike("nombre",n.nombre)),(0,l.q4)(async()=>await t.from("professor_ratings").select("*, profiles(nombre, avatar_url, background_url, bio, carrera, link_instagram)").eq("professor_id",r).order("created_at",{ascending:!1})),n.especialidad?(0,l.q4)(async()=>await t.from("professors").select("id, nombre, especialidad, facultad").ilike("especialidad",n.especialidad).neq("id",r).limit(10)):Promise.resolve({data:null,error:null})]),x=u.data,m=b.data,h=p.data,f=new Map,g={},y=e=>{let t=e.trim();t&&f.set(t.toLowerCase(),t)};x&&x.forEach(e=>{e.especialidad&&(g[e.especialidad.trim().toLowerCase()]=e.id,y(e.especialidad)),e.otros_cursos&&e.otros_cursos.split(",").forEach(e=>y(e))});let v=Array.from(f.values()),j=Array.from(f.keys()),{data:w}=await (0,l.q4)(async()=>await t.from("courses").select("id, nombre").in("nombre",v)),N={};w?.forEach(e=>{N[e.nombre.toLowerCase()]=e.id});let k=j.filter(e=>!N[e]);if(k.length>0){let e=k.map(e=>`nombre.ilike.${e}`).join(","),{data:r}=await (0,l.q4)(async()=>await t.from("courses").select("id, nombre").or(e));r?.forEach(e=>{N[e.nombre.toLowerCase()]=e.id})}let _=n.especialidad?.trim().toLowerCase(),C=v.filter(e=>e.toLowerCase()!==_);return s.jsx(i,{professor:n,initialRatings:m||[],courseMapping:N,professorLinkMapping:g,aggregatedOtherCourses:C,relatedProfessors:h||[]})}},1472:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var s=r(2305),a=r(1615);function o(){let e=(0,a.cookies)();return(0,s.createServerClient)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE",{cookies:{get:t=>e.get(t)?.value,set(t,r,s){try{e.set({name:t,value:r,...s})}catch(e){}},remove(t,r){try{e.set({name:t,value:"",...r})}catch(e){}}}})}},5662:(e,t,r)=>{"use strict";async function s(e){return await e()}r.d(t,{q4:()=>s}),(0,r(2305).createBrowserClient)("https://mevfhlhwrrkbhppgeyaj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ldmZobGh3cnJrYmhwcGdleWFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE5NDgyMDIsImV4cCI6MjA3NzUyNDIwMn0.E_Rhnhh8dbRiBLTg52HpDfJSqv2Q_hE-mSjHlkLF2IE")},8585:(e,t,r)=>{"use strict";var s=r(1085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},1085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(3953),a=r(6399);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return d},getRedirectStatusCodeFromError:function(){return x},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return b},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return n}});let a=r(4580),o=r(2934),i=r(8586),l="NEXT_REDIRECT";function d(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(l);s.digest=l+";"+t+";"+e+";"+r+";";let o=a.requestAsyncStorage.getStore();return o&&(s.mutableCookies=o.mutableCookies),s}function n(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw d(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),o=Number(a);return t===l&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(o)&&o in i.RedirectStatusCode}function b(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function x(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4478:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var s=r(7577),a=r(7335),o=r(326),i=s.forwardRef((e,t)=>(0,o.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[890,167,961,414,456,795,909,495],()=>r(7991));module.exports=s})();