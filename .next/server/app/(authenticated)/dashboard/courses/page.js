(()=>{var e={};e.id=983,e.ids=[983],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},1523:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>b,pages:()=>n,routeModule:()=>m,tree:()=>c}),s(6228),s(809),s(5866),s(7510);var t=s(3191),a=s(8716),o=s(7922),l=s.n(o),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(r,d);let c=["",{children:["(authenticated)",{children:["dashboard",{children:["courses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6228)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\courses\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,809)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,7510)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],n=["C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\courses\\page.tsx"],b="/(authenticated)/dashboard/courses/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(authenticated)/dashboard/courses/page",pathname:"/dashboard/courses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7053:(e,r,s)=>{Promise.resolve().then(s.bind(s,6305))},6305:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(326),a=s(7577),o=s(5047),l=s(2710),i=s(772),d=s(4432),c=s(567),n=s(1048),b=s(3855),u=s(8307),m=s(5442),x=s(4474),h=s(2288);let p=["Facultad de Ciencias Empresariales","Facultad de Derecho","Facultad de Econom\xeda y Finanzas","Facultad de Ingenier\xeda"],g=Array.from({length:13},(e,r)=>r.toString());function f(){let[e,r]=(0,a.useState)([]),[s,f]=(0,a.useState)(""),[j,v]=(0,a.useState)("todos"),[y,N]=(0,a.useState)("todos"),[w,C]=(0,a.useState)(!0),[_,P]=(0,a.useState)([]),[k]=(0,a.useState)(25),[S,q]=(0,a.useState)(!1),[A,E]=(0,a.useState)(!1),[F,U]=(0,a.useState)(""),Z=(0,o.useRouter)(),[D,I]=(0,a.useState)({nombre:"",codigo:"",facultad:"",ciclo:"",descripcion:"",imagen:null}),{profile:R,loading:z}=(0,l.U)(),Q=async()=>{try{0===e.length&&C(!0);let{data:s,error:t}=await m.OQ.from("courses").select("*").order("nombre",{ascending:!0});t?(console.error("Error fetching courses:",t),r([])):r(s||[])}catch(e){console.error("Catch error:",e),r([])}finally{C(!1)}},$=async e=>{if(e.preventDefault(),!D.nombre.trim()||!D.codigo.trim()||!D.facultad||!D.ciclo){alert("Por favor completa los campos requeridos");return}E(!0);let r="";try{if(D.imagen){if(!D.imagen.type.startsWith("image/")){alert("Por favor selecciona un archivo de imagen v\xe1lido"),E(!1);return}let e=D.imagen.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).slice(2)}.${e}`,{error:t}=await m.OQ.storage.from("course_images").upload(s,D.imagen,{cacheControl:"3600",upsert:!1,contentType:D.imagen.type});if(t){alert(`Error al subir la imagen: ${t.message}`),E(!1);return}let{data:a}=m.OQ.storage.from("course_images").getPublicUrl(s);r=a.publicUrl}let{error:e}=await m.OQ.from("courses").insert({nombre:D.nombre.trim().toUpperCase(),codigo:D.codigo.trim().toUpperCase(),facultad:D.facultad,ciclo:parseInt(D.ciclo),descripcion:D.descripcion.trim()||null,carrera:"Ingenier\xeda de Sistemas",imagen_url:r||null});if(e){alert(`Error al crear el curso: ${e.message}`),E(!1);return}q(!1),I({nombre:"",codigo:"",facultad:"",ciclo:"",descripcion:"",imagen:null}),U(""),await Q(),alert("\xa1Curso creado exitosamente!")}catch(e){console.error("Error general:",e),alert("Error al crear el curso")}finally{E(!1)}},V=e.filter(e=>{let r=e.nombre.toLowerCase().includes(s.toLowerCase())||e.codigo?.toLowerCase().includes(s.toLowerCase()),t="todos"===j||e.ciclo?.toString()===j,a="todos"===y||e.carrera===y;return r&&t&&a}),B=e=>{P(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},G=Array.from(new Set(e.map(e=>e.ciclo))).sort(),M=Array.from(new Set(e.map(e=>e.carrera)));return w?t.jsx("div",{className:"flex items-center justify-center min-h-screen bg-bb-dark",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"flex-1 overflow-auto p-8 bg-bb-dark transition-colors duration-300",children:[(0,t.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-4xl font-bold text-bb-text",children:"Cursos"}),(0,t.jsxs)("p",{className:"text-bb-text-secondary mt-2",children:[V.length," ",1===V.length?"curso":"cursos"," disponibles"]})]}),(0,t.jsxs)(h.Vq,{open:S,onOpenChange:q,children:[t.jsx(h.hg,{asChild:!0,children:(0,t.jsxs)(i.z,{className:"bg-blue-600 hover:bg-blue-700 h-11 text-white shadow-lg shadow-blue-500/20",children:[t.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Agregar Curso"]})}),(0,t.jsxs)(h.cZ,{className:"bg-bb-card border-bb-border text-bb-text max-w-md max-h-screen overflow-y-auto",children:[(0,t.jsxs)(h.fK,{children:[t.jsx(h.$N,{children:"Agregar Nuevo Curso"}),t.jsx(h.Be,{className:"text-bb-text-secondary",children:"Completa los datos del nuevo curso"})]}),(0,t.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"nombre",className:"text-bb-text",children:"Nombre del Curso *"}),t.jsx(d.I,{id:"nombre",value:D.nombre,onChange:e=>I({...D,nombre:e.target.value.toUpperCase()}),placeholder:"Ej: Algoritmos y Estructuras de Datos",required:!0,className:"mt-2 bg-bb-darker border-bb-border text-bb-text"})]}),(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"codigo",className:"text-bb-text",children:"C\xf3digo del Curso *"}),t.jsx(d.I,{id:"codigo",value:D.codigo,onChange:e=>I({...D,codigo:e.target.value.toUpperCase()}),placeholder:"Ej: CS101",required:!0,className:"mt-2 bg-bb-darker border-bb-border text-bb-text",maxLength:10})]}),(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"facultad",className:"text-bb-text",children:"Facultad *"}),(0,t.jsxs)(x.Ph,{value:D.facultad,onValueChange:e=>I({...D,facultad:e}),children:[t.jsx(x.i4,{className:"mt-2 bg-bb-darker border-bb-border text-bb-text",children:t.jsx(x.ki,{placeholder:"Selecciona una facultad"})}),t.jsx(x.Bw,{className:"bg-bb-card border-bb-border text-bb-text",children:p.map(e=>t.jsx(x.Ql,{value:e,className:"focus:bg-bb-hover focus:text-bb-text",children:e},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"ciclo",className:"text-bb-text",children:"Ciclo *"}),(0,t.jsxs)(x.Ph,{value:D.ciclo,onValueChange:e=>I({...D,ciclo:e}),children:[t.jsx(x.i4,{className:"mt-2 bg-bb-darker border-bb-border text-bb-text",children:t.jsx(x.ki,{placeholder:"Selecciona un ciclo"})}),t.jsx(x.Bw,{className:"bg-bb-card border-bb-border text-bb-text",children:g.map(e=>(0,t.jsxs)(x.Ql,{value:e,className:"focus:bg-bb-hover focus:text-bb-text",children:["Ciclo ",e]},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"descripcion",className:"text-bb-text",children:"Descripci\xf3n"}),t.jsx(d.I,{id:"descripcion",value:D.descripcion,onChange:e=>I({...D,descripcion:e.target.value}),placeholder:"Descripci\xf3n del curso (opcional)",className:"mt-2 bg-bb-darker border-bb-border text-bb-text"})]}),(0,t.jsxs)("div",{children:[t.jsx(n._,{htmlFor:"imagen",className:"text-bb-text",children:"Imagen del Curso"}),t.jsx(d.I,{id:"imagen",type:"file",accept:"image/*",onChange:e=>{let r=e.target.files?.[0];if(r){I({...D,imagen:r});let e=new FileReader;e.onloadend=()=>{U(e.result)},e.readAsDataURL(r)}},className:"mt-2 bg-bb-darker border-bb-border text-bb-text"}),F&&t.jsx("div",{className:"mt-2",children:t.jsx("img",{src:F,alt:"Preview",className:"h-24 w-full object-cover rounded"})}),D.imagen&&(0,t.jsxs)("p",{className:"text-xs text-green-500 mt-1",children:["✓ Imagen seleccionada: ",D.imagen.name]})]}),t.jsx(i.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:A,children:A?"Creando...":"Agregar Curso"})]})]})]})]}),(0,t.jsxs)("div",{className:"mb-6 relative",children:[t.jsx(u.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-bb-text-secondary h-5 w-5"}),t.jsx(d.I,{placeholder:"Busque sus cursos",value:s,onChange:e=>f(e.target.value),className:"pl-12 py-6 text-base bg-bb-card border-bb-border text-bb-text rounded-lg shadow-sm placeholder:text-bb-text-secondary/50"})]}),(0,t.jsxs)("div",{className:"mb-8 flex flex-wrap gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-bb-text-secondary",children:"Per\xedodos"}),(0,t.jsxs)(x.Ph,{value:j,onValueChange:v,children:[t.jsx(x.i4,{className:"w-40 bg-bb-card border-bb-border text-bb-text",children:t.jsx(x.ki,{placeholder:"Todos los per\xedodos"})}),(0,t.jsxs)(x.Bw,{className:"bg-bb-card border-bb-border text-bb-text",children:[t.jsx(x.Ql,{value:"todos",className:"focus:bg-bb-hover focus:text-bb-text",children:"Todos los per\xedodos"}),G.map(e=>(0,t.jsxs)(x.Ql,{value:e?.toString()||"otros",className:"focus:bg-bb-hover focus:text-bb-text",children:["Ciclo ",e]},e))]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-semibold text-bb-text-secondary",children:"Filtros"}),(0,t.jsxs)(x.Ph,{value:y,onValueChange:N,children:[t.jsx(x.i4,{className:"w-40 bg-bb-card border-bb-border text-bb-text",children:t.jsx(x.ki,{placeholder:"Todas las carreras"})}),(0,t.jsxs)(x.Bw,{className:"bg-bb-card border-bb-border text-bb-text",children:[t.jsx(x.Ql,{value:"todos",className:"focus:bg-bb-hover focus:text-bb-text",children:"Todas las carreras"}),M.map(e=>t.jsx(x.Ql,{value:e||"otros",className:"focus:bg-bb-hover focus:text-bb-text",children:e},e))]})]})]}),(0,t.jsxs)("span",{className:"text-sm text-bb-text-secondary ml-auto",children:[Math.min(k,V.length)," de ",V.length," elementos"]})]}),V.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:V.map(e=>(0,t.jsxs)("div",{className:"group cursor-pointer overflow-hidden rounded-lg shadow-md glass-card transition-all hover:shadow-lg hover:border-blue-500/30",onClick:()=>Z.push(`/dashboard/courses/${e.id}`),children:[t.jsx("div",{className:"relative h-40 overflow-hidden bg-gradient-to-br from-blue-400 to-blue-600",children:e.imagen_url?t.jsx("img",{src:e.imagen_url,alt:e.nombre,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):t.jsx("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 via-blue-500 to-teal-600 transition-transform group-hover:scale-105"})}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("span",{className:"text-xs font-semibold text-bb-text-secondary uppercase",children:e.codigo}),t.jsx("h3",{className:"mt-2 line-clamp-2 text-sm font-bold text-bb-text group-hover:text-blue-400 transition-colors",children:e.nombre}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-bb-text-secondary space-y-1",children:[e.carrera&&t.jsx("div",{children:e.carrera}),e.ciclo&&(0,t.jsxs)("div",{children:["Ciclo ",e.ciclo]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-between pt-3 border-t border-bb-border",children:[t.jsx(c.C,{variant:"secondary",className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Abierto"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:r=>{r.stopPropagation(),B(e.id)},className:`text-lg transition-colors ${_.includes(e.id)?"text-yellow-400":"text-bb-text-secondary hover:text-yellow-400"}`,"aria-label":"Guardar curso",children:"★"}),t.jsx(i.z,{size:"sm",variant:"ghost",onClick:r=>{r.stopPropagation(),Z.push(`/dashboard/courses/${e.id}`)},className:"text-blue-500 hover:bg-blue-500/10 hover:text-blue-400",children:"Ver m\xe1s"})]})]})]})]},e.id))}):t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-bb-text-secondary text-lg",children:s?"No se encontraron cursos":"No hay cursos disponibles"})})]})}},567:(e,r,s)=>{"use strict";s.d(r,{C:()=>i});var t=s(326);s(7577);var a=s(9360),o=s(7863);let l=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-blue-100 text-blue-800",secondary:"border-transparent bg-gray-100 text-gray-800",destructive:"border-transparent bg-red-100 text-red-800",outline:"text-gray-950 border-gray-200"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...s}){return t.jsx("div",{className:(0,o.cn)(l({variant:r}),e),...s})}},4432:(e,r,s)=>{"use strict";s.d(r,{I:()=>l});var t=s(326),a=s(7577),o=s(7863);let l=a.forwardRef(({className:e,type:r,...s},a)=>t.jsx("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));l.displayName="Input"},1048:(e,r,s)=>{"use strict";s.d(r,{_:()=>c});var t=s(326),a=s(7577),o=s(4478),l=s(9360),i=s(7863);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...r},s)=>t.jsx(o.f,{ref:s,className:(0,i.cn)(d(),e),...r}));c.displayName=o.f.displayName},4474:(e,r,s)=>{"use strict";s.d(r,{Bw:()=>h,Ph:()=>n,Ql:()=>p,i4:()=>u,ki:()=>b});var t=s(326),a=s(7577),o=s(5125),l=s(8393),i=s(6633),d=s(2933),c=s(7863);let n=o.fC;o.ZA;let b=o.B4,u=a.forwardRef(({className:e,children:r,...s},a)=>(0,t.jsxs)(o.xz,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[r,t.jsx(o.JO,{asChild:!0,children:t.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=o.xz.displayName;let m=a.forwardRef(({className:e,...r},s)=>t.jsx(o.u_,{ref:s,className:(0,c.cn)("flex cursor-pointer items-center justify-center py-1",e),...r,children:t.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=o.u_.displayName;let x=a.forwardRef(({className:e,...r},s)=>t.jsx(o.$G,{ref:s,className:(0,c.cn)("flex cursor-pointer items-center justify-center py-1",e),...r,children:t.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=o.$G.displayName;let h=a.forwardRef(({className:e,children:r,position:s="popper",...a},l)=>t.jsx(o.h_,{children:(0,t.jsxs)(o.VY,{ref:l,className:(0,c.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[t.jsx(m,{}),t.jsx(o.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),t.jsx(x,{})]})}));h.displayName=o.VY.displayName;let p=a.forwardRef(({className:e,children:r,...s},a)=>(0,t.jsxs)(o.ck,{ref:a,className:(0,c.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(o.wU,{children:t.jsx(d.Z,{className:"h-4 w-4"})})}),t.jsx(o.eT,{children:r})]}));p.displayName=o.ck.displayName,a.forwardRef(({className:e,...r},s)=>t.jsx(o.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-gray-100",e),...r})).displayName=o.Z0.displayName},3855:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6228:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Users\huama\Downloads\bolt descomprimido\project-bolt-sb1-emsbaasg\project\app\(authenticated)\dashboard\courses\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[162,167,721,414,95,588],()=>s(1523));module.exports=t})();