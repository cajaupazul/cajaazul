(()=>{var e={};e.id=870,e.ids=[870],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},9845:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(1959),t(809),t(5866),t(7510);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),o=t(5231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let d=["",{children:["(authenticated)",{children:["dashboard",{children:["community",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1959)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\community\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,809)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,7510)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\dashboard\\community\\page.tsx"],m="/(authenticated)/dashboard/community/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(authenticated)/dashboard/community/page",pathname:"/dashboard/community",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4631:(e,s,t)=>{Promise.resolve().then(t.bind(t,3258))},3258:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(326),r=t(7577),l=t(2643),i=t(772),o=t(4432),n=t(2288),d=t(7673),c=t(8758),m=t(3855),x=t(8091),h=t(7427),u=t(9730),p=t(6993),b=t(5442),f=t(2710),g=t(5047);function y(){(0,g.useRouter)();let{profile:e,loading:s}=(0,f.U)(),[t,y]=(0,r.useState)([]),[j,v]=(0,r.useState)(!0),[w,N]=(0,r.useState)(!1),[k,C]=(0,r.useState)(""),[_,q]=(0,r.useState)(new Set),Z=async()=>{try{0===t.length&&v(!0);let{data:e,error:s}=await b.OQ.from("posts").select("*, profiles(*)").order("created_at",{ascending:!1}).limit(50);if(s)throw s;e&&y(e)}catch(e){console.error("Error fetching posts:",e)}finally{v(!1)}},P=async s=>{if(s.preventDefault(),!k.trim()||!e)return;let{error:t}=await b.OQ.from("posts").insert({user_id:e.id,contenido:k});t||(N(!1),C(""),Z())},S=async e=>{let{data:{user:s}}=await b.OQ.auth.getUser();s&&(_.has(e)?(await b.OQ.from("likes").delete().eq("post_id",e).eq("user_id",s.id),q(s=>{let t=new Set(s);return t.delete(e),t})):(await b.OQ.from("likes").insert({post_id:e,user_id:s.id}),q(s=>new Set([...s,e]))),Z())},z=async e=>{confirm("\xbfEst\xe1s seguro?")&&(await b.OQ.from("posts").delete().eq("id",e),Z())};return j?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"flex-1 overflow-auto p-8 bg-slate-50",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-slate-900",children:"Comunidad"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Comparte tips, preguntas y experiencias con tus compa\xf1eros"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[a.jsx(l.Zb,{className:"bg-white mb-6 shadow-sm",children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)(n.Vq,{open:w,onOpenChange:N,children:[a.jsx(n.hg,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-4 cursor-pointer",children:[(0,a.jsxs)(c.qE,{className:"h-12 w-12 flex-shrink-0",children:[a.jsx(c.F$,{src:e?.avatar_url||""}),a.jsx(c.Q5,{className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white font-semibold",children:e?.nombre?.charAt(0)})]}),a.jsx(o.I,{placeholder:"\xbfQu\xe9 quieres compartir?",disabled:!0,className:"flex-1 cursor-pointer bg-slate-100 border-0"}),a.jsx(m.Z,{className:"h-5 w-5 text-slate-400 flex-shrink-0"})]})}),(0,a.jsxs)(n.cZ,{children:[(0,a.jsxs)(n.fK,{children:[a.jsx(n.$N,{children:"Crear Publicaci\xf3n"}),a.jsx(n.Be,{children:"Comparte tus conocimientos y experiencias con la comunidad"})]}),(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[a.jsx(d.g,{value:k,onChange:e=>C(e.target.value),placeholder:"Escribe tu publicaci\xf3n...",rows:6,required:!0}),a.jsx(i.z,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",children:"Publicar"})]})]})]})})}),a.jsx("div",{className:"space-y-4",children:t.length>0?t.map(s=>a.jsx(l.Zb,{className:"hover:shadow-md transition-all bg-white",children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,a.jsxs)(c.qE,{className:"h-12 w-12 flex-shrink-0",children:[a.jsx(c.F$,{src:s.profiles?.avatar_url||""}),a.jsx(c.Q5,{className:"bg-gradient-to-r from-blue-500 to-cyan-400 text-white font-semibold",children:s.profiles?.nombre?.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:s.profiles?.nombre}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:new Date(s.created_at).toLocaleDateString("es-ES",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e?.id===s.user_id&&a.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>z(s.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(x.Z,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-slate-700 mb-4 whitespace-pre-wrap leading-relaxed",children:s.contenido}),s.hashtags&&s.hashtags.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:s.hashtags.map(e=>(0,a.jsxs)("span",{className:"text-blue-600 text-sm hover:underline cursor-pointer",children:["#",e]},e))}),(0,a.jsxs)("div",{className:"flex items-center gap-6 pt-4 border-t border-slate-100",children:[(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",onClick:()=>S(s.id),className:`text-slate-500 hover:text-red-600 hover:bg-red-50 ${_.has(s.id)?"text-red-600":""}`,children:[a.jsx(h.Z,{className:`h-4 w-4 mr-2 ${_.has(s.id)?"fill-current":""}`}),a.jsx("span",{className:"text-xs font-medium",children:s.likes||0})]}),(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-slate-500 hover:text-blue-600 hover:bg-blue-50",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-xs font-medium",children:"Comentar"})]}),(0,a.jsxs)(i.z,{variant:"ghost",size:"sm",className:"text-slate-500 hover:text-cyan-600 hover:bg-cyan-50",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-xs font-medium",children:"Compartir"})]})]})]})},s.id)):a.jsx(l.Zb,{className:"bg-white",children:(0,a.jsxs)(l.aY,{className:"py-12 text-center",children:[a.jsx(u.Z,{className:"h-16 w-16 mx-auto text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 text-lg",children:"A\xfan no hay publicaciones. \xa1S\xe9 el primero en compartir!"})]})})})]})]})}},2643:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>o,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>n});var a=t(326),r=t(7577),l=t(7863);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg bg-white shadow-sm",e),...s}));i.displayName="Card",r.forwardRef(({className:e,imageUrl:s,title:t,courseCode:r,professor:i,status:o,onStarClick:n,...d},c)=>(0,a.jsxs)("div",{ref:c,className:(0,l.cn)("group cursor-pointer overflow-hidden rounded-lg shadow-md transition-all hover:shadow-lg",e),...d,children:[a.jsx("div",{className:"relative h-40 overflow-hidden bg-gray-200",children:s?a.jsx("img",{src:s,alt:t,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):a.jsx("div",{className:"h-full w-full bg-gradient-to-br from-blue-400 to-blue-600"})}),(0,a.jsxs)("div",{className:"bg-white p-4",children:[a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:r}),a.jsx("h3",{className:"mt-1 line-clamp-2 text-sm font-semibold text-gray-900",children:t}),a.jsx("p",{className:"mt-2 text-xs text-gray-600",children:i}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between pt-3 border-t border-gray-100",children:[a.jsx("span",{className:"inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700",children:o||"Abierto"}),a.jsx("button",{onClick:n,className:"text-gray-300 transition-colors hover:text-yellow-400","aria-label":"Guardar curso",children:"â˜…"})]})]})]})).displayName="CourseCard";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("h2",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-gray-500",e),...s}));d.displayName="CardDescription";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},4432:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var a=t(326),r=t(7577),l=t(7863);let i=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},7673:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(326),r=t(7577),l=t(7863);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm text-gray-950 placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},7427:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9730:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6993:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},8091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1959:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\huama\Downloads\bolt descomprimido\project-bolt-sb1-emsbaasg\project\app\(authenticated)\dashboard\community\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[162,167,721,414,588],()=>t(9845));module.exports=a})();