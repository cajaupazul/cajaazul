(()=>{var e={};e.id=725,e.ids=[725],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2014:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(6810),a(809),a(5866),a(7510);var t=a(3191),s=a(8716),l=a(7922),i=a.n(l),o=a(5231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(r,n);let d=["",{children:["(authenticated)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6810)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,809)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,7510)),"C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\huama\\Downloads\\bolt descomprimido\\project-bolt-sb1-emsbaasg\\project\\app\\(authenticated)\\profile\\page.tsx"],p="/(authenticated)/profile/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(authenticated)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8154:(e,r,a)=>{Promise.resolve().then(a.bind(a,1264))},1264:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>j});var t=a(326),s=a(7577),l=a(5442),i=a(1273),o=a(2710),n=a(5047),d=a(6557);let c=(0,d.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var p=a(5932),m=a(4738);let u=(0,d.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),x=(0,d.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var g=a(4019),h=a(3634),b=a(7358),f=a(6226);let y=(0,d.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var v=a(6343);function j(){(0,n.useRouter)();let{colors:e,themeMode:r,setThemeMode:a}=(0,i.F)(),{profile:d,updateProfile:j}=(0,o.U)(),[k,w]=(0,s.useState)(d||null),[N,C]=(0,s.useState)(!d),[_,Z]=(0,s.useState)(!1),[$,P]=(0,s.useState)(!1),[z,q]=(0,s.useState)({}),[D,U]=(0,s.useState)(""),[M,S]=(0,s.useState)(""),E=(0,s.useRef)(null),O=(0,s.useRef)(null),A=async e=>{let r=e.target.files?.[0];if(r&&k){P(!0);try{let e=r.name.split(".").pop(),a=`bg-${k.id}-${Date.now()}.${e}`,t=`backgrounds/${a}`;try{let{data:e}=await l.OQ.storage.from("profile-avatars").list("backgrounds");if(e)for(let r of e)r.name.startsWith(`bg-${k.id}`)&&await l.OQ.storage.from("profile-avatars").remove([`backgrounds/${r.name}`])}catch(e){console.log("No previous background to delete")}let{error:s}=await l.OQ.storage.from("profile-avatars").upload(t,r,{upsert:!0});if(s)throw s;let{data:i}=l.OQ.storage.from("profile-avatars").getPublicUrl(t),{error:o}=await l.OQ.from("profiles").update({background_url:i.publicUrl}).eq("id",k.id);if(o)throw o;w({...k,background_url:i.publicUrl}),S(i.publicUrl),j({...k,background_url:i.publicUrl}),console.log("Background uploaded successfully:",i.publicUrl)}catch(e){console.error("Error uploading background:",e),alert("Error al subir la imagen de fondo")}finally{P(!1)}}},Q=async e=>{let r=e.target.files?.[0];if(r&&k){P(!0);try{let e=r.name.split(".").pop(),a=`${k.id}-${Date.now()}.${e}`,t=`avatars/${a}`,{error:s}=await l.OQ.storage.from("profile-avatars").upload(t,r,{upsert:!0});if(s)throw s;let{data:i}=l.OQ.storage.from("profile-avatars").getPublicUrl(t),{error:o}=await l.OQ.from("profiles").update({avatar_url:i.publicUrl}).eq("id",k.id);if(o)throw o;w({...k,avatar_url:i.publicUrl}),q({...z,avatar_url:i.publicUrl})}catch(e){console.error("Error uploading file:",e)}finally{P(!1)}}},F=async()=>{if(k)try{let e={...z};if(e.link_instagram){let r=e.link_instagram.trim();r=(r=(r=r.replace(/^(https?:\/\/)?(www\.)?instagram\.com\//,"")).replace(/^@/,"")).replace(/\/$/,""),e.link_instagram=`https://instagram.com/${r}`}let{error:r}=await l.OQ.from("profiles").update(e).eq("id",k.id);if(r)throw r;w({...k,...z}),j({...k,...z}),Z(!1)}catch(e){console.error("Error updating profile:",e)}},G=e=>{let{name:r,value:a}=e.target;q(e=>({...e,[r]:a}))};return N?t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-faculty-primary"})}):k?t.jsx("div",{className:"min-h-screen bg-black overflow-hidden",children:(0,t.jsxs)("div",{className:"relative min-h-screen",children:[(0,t.jsxs)("div",{className:"absolute inset-0 h-96 bg-cover bg-center",style:{backgroundImage:M?`url(${M})`:`linear-gradient(135deg, ${e?.primary}30 0%, ${e?.primary}10 100%)`,backgroundSize:"cover",backgroundPosition:"center"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black"}),_&&(0,t.jsxs)("button",{onClick:()=>E.current?.click(),className:"absolute top-4 right-4 p-3 rounded-full backdrop-blur-md bg-black/50 hover:bg-black/70 text-white transition",children:[t.jsx(c,{className:"w-5 h-5"}),t.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:A,disabled:$,className:"hidden"})]})]}),(0,t.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-end gap-6 mb-12 mt-20",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"w-32 sm:w-40 h-32 sm:h-40 rounded-3xl border-4 shadow-2xl overflow-hidden flex-shrink-0",style:{borderColor:e?.primary},children:k.avatar_url?t.jsx("img",{src:k.avatar_url,alt:k.nombre,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-5xl font-bold",style:{backgroundColor:e?.primary},children:k.nombre?.charAt(0).toUpperCase()})}),_&&(0,t.jsxs)("label",{className:"absolute bottom-2 right-2 cursor-pointer",children:[t.jsx("div",{className:"p-3 rounded-full text-white shadow-lg hover:opacity-90 transition-all hover:scale-110",style:{backgroundColor:e?.primary},children:t.jsx(c,{className:"w-5 h-5"})}),t.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:Q,disabled:$,className:"hidden"})]})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("h1",{className:"text-5xl font-bold text-white mb-1",children:_?t.jsx("input",{type:"text",name:"nombre",value:z.nombre||"",onChange:G,className:"bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white w-full backdrop-blur"}):k.nombre}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-gray-300 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(p.Z,{className:"w-4 h-4"}),t.jsx("span",{children:D})]}),k.link_instagram&&!_&&(0,t.jsxs)("a",{href:k.link_instagram.startsWith("http")?k.link_instagram:`https://instagram.com/${k.link_instagram}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[t.jsx(m.Z,{className:"w-4 h-4 text-pink-500"}),(0,t.jsxs)("span",{children:["@",k.link_instagram.replace("https://instagram.com/","").replace("/","")]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[t.jsx("button",{onClick:()=>{_?F():Z(!0)},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-medium transition-all duration-200 text-white hover:scale-105",style:{backgroundColor:e?.primary},children:_?(0,t.jsxs)(t.Fragment,{children:[t.jsx(u,{className:"w-4 h-4"}),"Guardar"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(x,{className:"w-4 h-4"}),"Editar Perfil"]})}),_&&(0,t.jsxs)("button",{onClick:()=>{Z(!1),q(k)},className:"flex items-center gap-2 px-6 py-2 rounded-lg font-medium bg-white/10 hover:bg-white/20 text-white transition-all backdrop-blur",children:[t.jsx(g.Z,{className:"w-4 h-4"}),"Cancelar"]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[t.jsx("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:e?.primary+"40"},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Puntos"}),t.jsx("p",{className:"text-4xl font-bold",style:{color:e?.primary},children:k.puntos})]}),t.jsx(h.Z,{className:"w-12 h-12",style:{color:e?.primary,opacity:.2}})]})}),t.jsx("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:e?.primary+"40"},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Miembro desde"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:new Date(k.created_at).getFullYear()})]}),t.jsx(b.Z,{className:"w-12 h-12",style:{color:e?.primary,opacity:.2}})]})}),t.jsx("div",{className:"rounded-xl p-6 border backdrop-blur transition-all hover:shadow-lg cursor-pointer",style:{backgroundColor:"#1a1a1a90",borderColor:e?.primary+"40"},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-widest mb-2",children:"Logros"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:Math.floor(k.puntos/50)})]}),t.jsx(f.Z,{className:"w-12 h-12",style:{color:e?.primary,opacity:.2}})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:e?.primary+"40"},children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[t.jsx(y,{className:"w-4 h-4",style:{color:e?.primary}}),"Universidad"]}),_?t.jsx("input",{type:"text",name:"universidad",value:z.universidad||"",onChange:G,className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"}):t.jsx("div",{className:"text-white font-semibold text-lg",children:k.universidad||"No especificada"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:e?.primary+"40"},children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[t.jsx(v.Z,{className:"w-4 h-4",style:{color:e?.primary}}),"Carrera"]}),_?t.jsx("input",{type:"text",name:"carrera",value:z.carrera||"",onChange:G,className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"}):t.jsx("div",{className:"text-white font-semibold text-lg",children:k.carrera||"No especificada"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:e?.primary+"40"},children:[(0,t.jsxs)("div",{className:"text-xs text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[t.jsx(m.Z,{className:"w-4 h-4",style:{color:e?.primary}}),"Instagram"]}),_?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500 text-sm",children:"instagram.com/"}),t.jsx("input",{type:"text",name:"link_instagram",value:z.link_instagram?.replace("https://instagram.com/","")||"",onChange:e=>q(r=>({...r,link_instagram:e.target.value})),placeholder:"usuario",className:"w-full bg-black/50 border border-white/20 rounded px-3 py-2 text-white focus:outline-none focus:border-white/40"})]}):k.link_instagram?(0,t.jsxs)("a",{href:`https://instagram.com/${k.link_instagram.replace("https://instagram.com/","")}`,target:"_blank",rel:"noopener noreferrer",className:"text-white font-semibold text-lg hover:underline truncate block",children:["@",k.link_instagram.replace("https://instagram.com/","")]}):t.jsx("div",{className:"text-gray-500 italic",children:"No vinculado"})]})]}),(0,t.jsxs)("div",{className:"rounded-xl p-6 border backdrop-blur",style:{backgroundColor:"#1a1a1a80",borderColor:e?.primary+"40"},children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("span",{style:{color:e?.primary},children:"âœ¨"}),"Acerca de ti"]})}),_?t.jsx("textarea",{name:"bio",value:z.bio||"",onChange:G,placeholder:"Cu\xe9ntanos sobre ti, tus intereses, logros...",className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-white/40 resize-none",rows:4}):t.jsx("p",{className:"text-gray-200 leading-relaxed text-base",children:k.bio||"\uD83D\uDCDD No hay informaci\xf3n personal. \xa1Edita tu perfil para agregarlo!"}),(0,t.jsxs)("div",{className:"rounded-xl p-6 border backdrop-blur mb-8",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--border-color)"},children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("h2",{className:"text-xl font-bold text-bb-text flex items-center gap-2",children:[t.jsx("span",{style:{color:e?.primary},children:"\uD83C\uDFA8"}),"Personalizaci\xf3n"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsx("button",{onClick:()=>a("light"),className:`group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ${"light"===r?"border-blue-500 bg-white":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${"light"===r?"bg-blue-100 text-blue-600":"bg-gray-200 dark:bg-zinc-800 text-gray-500"}`,children:t.jsx(b.Z,{className:"w-4 h-4"})}),t.jsx("span",{className:`font-bold text-sm ${"light"===r?"text-gray-900":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"}`,children:"Modo Claro"}),"light"===r&&t.jsx(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})}),t.jsx("button",{onClick:()=>a("dark"),className:`group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ${"dark"===r?"border-blue-500 bg-[#0f0f0f]":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${"dark"===r?"bg-blue-900/30 text-blue-400":"bg-gray-200 dark:bg-zinc-800 text-gray-500"}`,children:t.jsx(h.Z,{className:"w-4 h-4"})}),t.jsx("span",{className:`font-bold text-sm ${"dark"===r?"text-white":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"}`,children:"Dark S\xf3lido"}),"dark"===r&&t.jsx(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})}),(0,t.jsxs)("button",{onClick:()=>a("glass"),className:`group relative p-3 rounded-xl border-2 transition-all duration-300 text-left overflow-hidden ${"glass"===r?"border-blue-500":"border-transparent bg-gray-100 dark:bg-zinc-900 hover:border-gray-300 dark:hover:border-zinc-700"}`,style:"glass"===r?{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"}:{},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${"glass"===r?"bg-white/10 text-blue-300":"bg-gray-200 dark:bg-zinc-800 text-gray-500"}`,children:t.jsx(v.Z,{className:"w-4 h-4"})}),t.jsx("span",{className:`font-bold text-sm ${"glass"===r?"text-white":"text-gray-500 group-hover:text-gray-700 dark:text-gray-400 dark:group-hover:text-gray-200"}`,children:"Dark Glass"}),"glass"===r&&t.jsx(f.Z,{className:"w-4 h-4 text-blue-500 ml-auto"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"text-center mt-12 text-gray-500 text-xs",children:[(0,t.jsxs)("p",{children:["\xdaltima actualizaci\xf3n: ",new Date(k.updated_at).toLocaleDateString("es-ES")," "]}),(0,t.jsxs)("p",{className:"mt-2 text-gray-600",children:["ID: ",k.id.substring(0,8),"..."]})]})]})]})}):null}},6226:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(6557).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},4738:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(6557).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},5932:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(6557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3634:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});let t=(0,a(6557).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},6810:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\huama\Downloads\bolt descomprimido\project-bolt-sb1-emsbaasg\project\app\(authenticated)\profile\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[162,167,721,414,588],()=>a(2014));module.exports=t})();